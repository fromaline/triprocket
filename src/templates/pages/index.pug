extends ../layout/default

block page-main-area
  .wrapper.page-content-wrapper#catalog
    .page-title-container
      h1.page-title Наши номера

      v-select.catalog-select(:options="options" :placeholder="placeholder" v-on:input="sortItems")
        template(#open-indicator="{ attributes }")
          span(v-bind="attributes")
            svg.accord-down-svg(role="img")
              use(xlink:href="./assets/images/symbol/sprite.svg#accord-down-svg")

    .catalog
      aside.catalog-filters
        form(@submit.prevent="submitFilters").filters-form
          div.filters-form__cont
            p.filters-form__title Цена за сутки,₽
            .filters-price
              input(type="number" v-model:value="filters.costs.start")
              input(type="number" v-model:value="filters.costs.end")
        
          div.filters-form__cont
            p.filters-form__title Площадь
            div(v-for="square in filters.squares").filters-form__checkbox-cont
              .checkbox
                input(type="checkbox" v-model:checked="square.selected") 
                svg.check-svg(role="img")
                  use(xlink:href="./assets/images/symbol/sprite.svg#check-svg")
              label.checkbox-label {{ square.value }} м2


          div.filters-form__cont
            p.filters-form__title Оснащение номера
            div(v-for="equipment in filters.equipments").filters-form__checkbox-cont
              .checkbox
                input(type="checkbox" v-model:checked="equipment.selected") 
                svg.check-svg(role="img")
                  use(xlink:href="./assets/images/symbol/sprite.svg#check-svg")
              label.checkbox-label {{ equipment.value }}

          div.filters-form__cont.filters-form__cont_with-buttons
            button(type="submit").filters-form__button.filters-form__button_submit Применить
            button(type="reset" @click="resetFilters" v-if="!isFilterEmpty").filters-form__button.filters-form__button_reset Сбросить фильтр

      section.catalog-items.grid
        article.catalog-item(v-for="item in items", href="#") 
          img.catalog-item__image(:src="item.imageSrc", alt="кот")
          .catalog-item__content
            h5.catalog-item__title {{ item.title }}
            p.catalog-item__point Размеры (ШхГхВ) - {{ item.sizes }} см
            p.catalog-item__point Площадь - {{ item.square }} м2
            p.catalog-item__point 
              | Оснащение номера
              span(v-for="equip in item.equipment").catalog-item__point_equipment-svgs
                svg.equipment-empty-svg(role="img" v-if="equip === 'Пустой номер'")
                  use(xlink:href="./assets/images/symbol/sprite.svg#equipment-empty-svg")

                svg.equipment-tray-svg(role="img" v-if="equip === 'Лежак'")

                  use(xlink:href="./assets/images/symbol/sprite.svg#equipment-tray-svg")
                svg.equipment-tower-svg(role="img" v-if="equip === 'Когтеточка'")
                  use(xlink:href="./assets/images/symbol/sprite.svg#equipment-tower-svg")

                svg.equipment-ball-svg(role="img" v-if="equip === 'Игровой-комплекс'")
                  use(xlink:href="./assets/images/symbol/sprite.svg#equipment-ball-svg")

                svg.equipment-house-svg(role="img" v-if="equip === 'Домик'")
                  use(xlink:href="./assets/images/symbol/sprite.svg#equipment-house-svg")                

            p.catalog-item__point 
              | Цена за сутки: 
              span.catalog-item__price {{ item.cost }}₽

            a.catalog-item__button(href="#") 
              span Забронировать
              div.icon
                svg.paw-svg(role="img")
                  use(xlink:href="./assets/images/symbol/sprite.svg#paw-svg")