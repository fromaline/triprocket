{"version":3,"sources":["node_modules/mmenu-js/dist/core/oncanvas/_options.js","node_modules/mmenu-js/dist/core/oncanvas/_configs.js","node_modules/mmenu-js/dist/_modules/helpers.js","node_modules/mmenu-js/dist/_modules/i18n.js","node_modules/mmenu-js/dist/core/oncanvas/translations/nl.js","node_modules/mmenu-js/dist/core/oncanvas/translations/fa.js","node_modules/mmenu-js/dist/core/oncanvas/translations/de.js","node_modules/mmenu-js/dist/core/oncanvas/translations/ru.js","node_modules/mmenu-js/dist/core/oncanvas/translations/translate.js","node_modules/mmenu-js/dist/_modules/dom.js","node_modules/mmenu-js/dist/_modules/matchmedia.js","node_modules/mmenu-js/dist/core/oncanvas/mmenu.oncanvas.js","node_modules/mmenu-js/dist/core/offcanvas/_options.js","node_modules/mmenu-js/dist/core/offcanvas/_configs.js","node_modules/mmenu-js/dist/_modules/eventlisteners.js","node_modules/mmenu-js/dist/core/offcanvas/mmenu.offcanvas.js","node_modules/mmenu-js/dist/core/screenreader/_options.js","node_modules/mmenu-js/dist/core/screenreader/_configs.js","node_modules/mmenu-js/dist/core/screenreader/translations/nl.js","node_modules/mmenu-js/dist/core/screenreader/translations/fa.js","node_modules/mmenu-js/dist/core/screenreader/translations/de.js","node_modules/mmenu-js/dist/core/screenreader/translations/ru.js","node_modules/mmenu-js/dist/core/screenreader/translations/translate.js","node_modules/mmenu-js/dist/core/screenreader/mmenu.screenreader.js","node_modules/mmenu-js/dist/core/scrollbugfix/_options.js","node_modules/mmenu-js/dist/_modules/support.js","node_modules/mmenu-js/dist/core/scrollbugfix/mmenu.scrollbugfix.js","node_modules/mmenu-js/dist/addons/autoheight/_options.js","node_modules/mmenu-js/dist/addons/autoheight/mmenu.autoheight.js","node_modules/mmenu-js/dist/addons/backbutton/_options.js","node_modules/mmenu-js/dist/addons/backbutton/mmenu.backbutton.js","node_modules/mmenu-js/dist/addons/columns/_options.js","node_modules/mmenu-js/dist/addons/columns/mmenu.columns.js","node_modules/mmenu-js/dist/addons/counters/_options.js","node_modules/mmenu-js/dist/addons/counters/mmenu.counters.js","node_modules/mmenu-js/dist/addons/dividers/_options.js","node_modules/mmenu-js/dist/addons/dividers/mmenu.dividers.js","node_modules/mmenu-js/dist/addons/drag/_options.js","node_modules/mmenu-js/dist/_modules/dragevents/_support.js","node_modules/mmenu-js/dist/_modules/dragevents/_defaults.js","node_modules/mmenu-js/dist/_modules/dragevents/_settings.js","node_modules/mmenu-js/dist/_modules/dragevents/_helpers.js","node_modules/mmenu-js/dist/_modules/dragevents/index.js","node_modules/mmenu-js/dist/addons/drag/_drag.open.js","node_modules/mmenu-js/dist/addons/drag/mmenu.drag.js","node_modules/mmenu-js/dist/addons/dropdown/_options.js","node_modules/mmenu-js/dist/addons/dropdown/_configs.js","node_modules/mmenu-js/dist/addons/dropdown/mmenu.dropdown.js","node_modules/mmenu-js/dist/addons/fixedelements/_configs.js","node_modules/mmenu-js/dist/addons/fixedelements/mmenu.fixedelements.js","node_modules/mmenu-js/dist/addons/iconbar/_options.js","node_modules/mmenu-js/dist/addons/iconbar/mmenu.iconbar.js","node_modules/mmenu-js/dist/addons/iconpanels/_options.js","node_modules/mmenu-js/dist/addons/iconpanels/mmenu.iconpanels.js","node_modules/mmenu-js/dist/addons/keyboardnavigation/_options.js","node_modules/mmenu-js/dist/addons/keyboardnavigation/mmenu.keyboardnavigation.js","node_modules/mmenu-js/dist/addons/lazysubmenus/_options.js","node_modules/mmenu-js/dist/addons/lazysubmenus/mmenu.lazysubmenus.js","node_modules/mmenu-js/dist/addons/navbars/_options.js","node_modules/mmenu-js/dist/addons/navbars/_configs.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.breadcrumbs.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.close.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.prev.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.searchfield.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.title.js","node_modules/mmenu-js/dist/addons/navbars/_navbar.tabs.js","node_modules/mmenu-js/dist/addons/navbars/mmenu.navbars.js","node_modules/mmenu-js/dist/addons/pagescroll/_options.js","node_modules/mmenu-js/dist/addons/pagescroll/_configs.js","node_modules/mmenu-js/dist/addons/pagescroll/mmenu.pagescroll.js","node_modules/mmenu-js/dist/addons/searchfield/_options.js","node_modules/mmenu-js/dist/addons/searchfield/_configs.js","node_modules/mmenu-js/dist/addons/searchfield/translations/nl.js","node_modules/mmenu-js/dist/addons/searchfield/translations/fa.js","node_modules/mmenu-js/dist/addons/searchfield/translations/de.js","node_modules/mmenu-js/dist/addons/searchfield/translations/ru.js","node_modules/mmenu-js/dist/addons/searchfield/translations/translate.js","node_modules/mmenu-js/dist/addons/searchfield/mmenu.searchfield.js","node_modules/mmenu-js/dist/addons/sectionindexer/_options.js","node_modules/mmenu-js/dist/addons/sectionindexer/mmenu.sectionindexer.js","node_modules/mmenu-js/dist/addons/setselected/_options.js","node_modules/mmenu-js/dist/addons/setselected/mmenu.setselected.js","node_modules/mmenu-js/dist/addons/sidebar/_options.js","node_modules/mmenu-js/dist/addons/sidebar/mmenu.sidebar.js","node_modules/mmenu-js/dist/addons/toggles/mmenu.toggles.js","node_modules/mmenu-js/dist/wrappers/angular/mmenu.angular.js","node_modules/mmenu-js/dist/wrappers/bootstrap/mmenu.bootstrap.js","node_modules/mmenu-js/dist/wrappers/olark/mmenu.olark.js","node_modules/mmenu-js/dist/wrappers/turbolinks/mmenu.turbolinks.js","node_modules/mmenu-js/dist/wrappers/wordpress/mmenu.wordpress.js","node_modules/mmenu-js/src/mmenu.js","src/js/helpers.js","src/js/twoWayBinding.js","src/js/conditionalRendering.js","src/js/core.js"],"names":["options","hooks","extensions","wrappers","navbar","add","sticky","title","titleLink","onClick","close","preventDefault","setSelected","slidingSubmenus","configs","classNames","inset","nolistview","nopanel","panel","selected","vertical","language","openingInterval","panelNodetype","transitionDuration","extend","orignl","dfault","type","k","hasOwnProperty","touchDirection","surface","direction","addEventListener","evnt","movementY","get","variable","toString","call","match","toLowerCase","valueOrFn","element","option","value","transitionend","func","duration","_ended","_fn","target","removeEventListener","setTimeout","uniqueId","__id","originalId","id","slice","translations","text","nl","Menu","fa","de","ru","translate","create","selector","args","split","elem","document","createElement","shift","forEach","classname","classList","find","filter","Array","prototype","querySelectorAll","children","child","matches","childNodes","nodeType","map","textContent","join","parents","parent","parentElement","push","prevAll","previous","current","previousElementSibling","offset","getBoundingClientRect","body","filterLI","listitems","listitem","filterLIA","anchors","apply","anchor","reClass","oldClass","newClass","remove","listeners","query","yes","no","watch","_loop_1","mqlist","window","matchMedia","fire","onchange","fn","m","length","Mmenu","menu","this","opts","conf","_api","node","vars","hook","clck","querySelector","_deprecatedWarnings","_initWrappers","_initAddons","_initExtensions","_initHooks","_initAPI","_initMenu","_initPanels","_initOpened","_initAnchors","media.watch","openPanel","animation","_this","trigger","closest","DOM.parents","DOM.children","panels","pnls","current_1","parent_1","hidden","openPanelStart_1","openPanelFinish_1","closePanel","li","closeAllPanels","opened","togglePanel","DOM.find","bind","h","l","that","API","re","arguments","w","wrpr","addon","addons","all","Object","keys","classnames","extension","media.add","DOM.create","indexOf","nodeName","append","inMenu","href","getAttribute","err","initPanel","_initPanel","children_1","listview","DOM.reClass","removeAttribute","wrapper","before","item","button","setAttribute","innerHTML","insertBefore","nextElementSibling","_initNavbar","initListview","parentListitem","parentPanel","prev","opener","titleText","i18n","prepend","lastitem","inListview","toExternal","c","click","offCanvas","i18n.get","version","pack.version","blockUI","moveBackground","extendShorthandOptions","clone","insertMethod","insertSelector","page","nodetype","noSelector","ucFirst","word","charAt","toUpperCase","on","handler","evntParts","off","offcanvas","cloneNode","initBlocker","setPage","initWindow","hash","location","open","blck","sr_aria","sr_text","screenReader","closeMenu","api","_openSetup","_openStart","closeAllOthers","events.trigger","force","clsn","pages","wrapper_1","events.off","events.on","keyCode","stopPropagation","aria","closeSubmenu","openSubmenu","toggleSubmenu","nl$1","Close menu","Close submenu","Open submenu","Toggle submenu","fa$1","de$1","ru$1","translate$1","hide","visible","replace","next","attr","name","sr_role","fix","touch","navigator","msMaxTouchPoints","scrollBugFix","support.touch","touchDir","stop","passive","pop","scrollHeight","offsetHeight","scrollTop","style","height","autoHeight","setHeight","getCurrent","measurablePanel","getHighest","highest","Math","max","_hgh","_dif","backButton","_menu","states","setStates","history","pushState","back","pathname","search","min","columns","colm","colp","rmvc","i","contains","className","colnr","parseInt","p","addTo","count","counters","counter","cntrclss","btn","DOM.filterLI","dividers","divider","lastletter","letter","trim","area","top","right","bottom","left","treshold","start","swipe","directionNames","x","y","state","inactive","watching","dragging","percentage2number","position","size","DragEvents","options.area","options.treshold","move","event","currentPosition","touches","pageX","pageY","width","clientWidth","clientHeight","startPosition","settings.state","dragDirection","_dragDirection","detail","_eventDetail","_dispatchEvents","abs","movement","axis","swipeDirection","_swipeDirection","changedTouches","distance","distX","distY","movementX","distanceX","distanceY","eventName","CustomEvent","dispatchEvent","settings.directionNames","dragInstance","dragNode","maxDistance","dragOpen","moving","addEvents","zposition","slideOutNodes","open_1","removeEvents","addMatchMedia","queries","getPositionVars","pos","drag","drop","fitViewport","tip","of","viewport","dropdown","events","getPosition","dir","obj","css","cls","_outerSize","_startPos","_stopPos","_size","_winSize","_maxSize","_position","startPos","DOM.offset","stopPos","windowSize","offs","val","s","fixedElements","fixed","_fixd","wrppr","fxd","use","iconbar","n","ctnt","part","classname_1","enable","disable","stopImmediatePropagation","selectTab_1","blockPanel","hideDivider","hideNavbar","iconPanels","keepFirst","classnames_1","panelAdded_1","blocker","enhance","keyboardNavigation","menuStart_1","menuEnd_1","blockerEnd_1","navbars","focusable_1","setFocus","focus","activeElement","elements_1","tabber","Event","api_1","load","lazySubmenus","console","log","unshift","content","breadcrumbs","separator","removeFirst","crumbs","first","org","_url","_txt","panelPrev","searchfield","original","panelTitle","tabs","selectTab","Navbars","navbarContents","navbarTypes","navs","scroll","update","scrollOffset","updateOffset","pageScroll","section","scrollTo","scrollingElement","behavior","anchorInPage","scts_1","DOM.filterLIA","_selected_1","scrollY","offsetTop","cancel","noResults","placeholder","fx","splash","showTextItems","showSubPanels","clear","form","input","submit","nl$2","Search","No results found.","fa$2","de$2","ru$2","translate$2","__spreadArrays","il","r","a","j","jl","searchfield$1","blur","searchpanel","initSearchPanel","initSearchfield","initSearching","initNoResultsMsg","addAttributes","field","autocomplete","data","noresults","_a","_b","message","buttons","DOM.text","hasResults","allitems_1","reverse","listitems_1","DOM.prevAll","sectionIndexer","indx","buttons_1","indexer","mouseOverEvent","newTop","oldTop","active","hover","findCurrent_1","url","arr","collapsed","blockMenu","expanded","initial","sidebar","localStorage","setItem","initialState","getItem","toggles","toggle","check","angular","bootstrap","nav","cloneNav","cloneDropdown","action","method","toggler","outerHTML","cloneLink","link","sro","list","olark","turbolinks","test","wordpress","wpadminbar","getElementById","$","mmenu","$result","each","e","mmApi","$menu","jQuery","Zepto","isElementTextbox","$element","elementTagName","tagName","inputType","inputTypes","includes","isElementCheckbox","twoWayBinding","$elements","scope","addScopeProp","prop","initialValue","defineProperty","set","newValue","checked","enumerable","propToBind","conditionalRendering","addCondition","condition","renderCondition","fromaline"],"mappings":"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","file":"core.js","sourcesContent":["var options = {\n    hooks: {},\n    extensions: [],\n    wrappers: [],\n    navbar: {\n        add: true,\n        sticky: true,\n        title: 'Menu',\n        titleLink: 'parent'\n    },\n    onClick: {\n        close: null,\n        preventDefault: null,\n        setSelected: true\n    },\n    slidingSubmenus: true\n};\nexport default options;\n","var configs = {\n    classNames: {\n        inset: 'Inset',\n        nolistview: 'NoListview',\n        nopanel: 'NoPanel',\n        panel: 'Panel',\n        selected: 'Selected',\n        vertical: 'Vertical'\n    },\n    language: null,\n    openingInterval: 25,\n    panelNodetype: ['ul', 'ol', 'div'],\n    transitionDuration: 400\n};\nexport default configs;\n","/**\n * Deep extend an object with the given defaults.\n * Note that the extended object is not a clone, meaning the original object will also be updated.\n *\n * @param \t{object}\torignl\tThe object to extend to.\n * @param \t{object}\tdfault\tThe object to extend from.\n * @return\t{object}\t\t\tThe extended \"orignl\" object.\n */\nexport function extend(orignl, dfault) {\n    if (type(orignl) != 'object') {\n        orignl = {};\n    }\n    if (type(dfault) != 'object') {\n        dfault = {};\n    }\n    for (var k in dfault) {\n        if (!dfault.hasOwnProperty(k)) {\n            continue;\n        }\n        if (typeof orignl[k] == 'undefined') {\n            orignl[k] = dfault[k];\n        }\n        else if (type(orignl[k]) == 'object') {\n            extend(orignl[k], dfault[k]);\n        }\n    }\n    return orignl;\n}\n/**\n * Detect the touch / dragging direction on a touch device.\n *\n * @param   {HTMLElement} surface   The element to monitor for touch events.\n * @return  {object}                Object with \"get\" function.\n */\nexport function touchDirection(surface) {\n    var direction = '';\n    surface.addEventListener('touchmove', function (evnt) {\n        direction = '';\n        if (evnt.movementY > 0) {\n            direction = 'down';\n        }\n        else if (evnt.movementY < 0) {\n            direction = 'up';\n        }\n    });\n    return {\n        get: function () { return direction; }\n    };\n}\n/**\n * Get the type of any given variable. Improvement of \"typeof\".\n *\n * @param \t{any}\t\tvariable\tThe variable.\n * @return\t{string}\t\t\t\tThe type of the variable in lowercase.\n */\nexport function type(variable) {\n    return {}.toString\n        .call(variable)\n        .match(/\\s([a-zA-Z]+)/)[1]\n        .toLowerCase();\n}\n/**\n * Find the value from an option or function.\n * @param \t{HTMLElement} \telement \tScope for the function.\n * @param \t{any} \t\t\t[option] \tValue or function.\n * @param \t{any} \t\t\t[dfault] \tDefault fallback value.\n * @return\t{any}\t\t\t\t\t\tThe given evaluation of the given option, or the default fallback value.\n */\nexport function valueOrFn(element, option, dfault) {\n    if (typeof option == 'function') {\n        var value = option.call(element);\n        if (typeof value != 'undefined') {\n            return value;\n        }\n    }\n    if ((option === null ||\n        typeof option == 'function' ||\n        typeof option == 'undefined') &&\n        typeof dfault != 'undefined') {\n        return dfault;\n    }\n    return option;\n}\n/**\n * Set and invoke a (single) transition-end function with fallback.\n *\n * @param {HTMLElement} \telement \tScope for the function.\n * @param {function}\t\tfunc\t\tFunction to invoke.\n * @param {number}\t\t\tduration\tThe duration of the animation (for the fallback).\n */\nexport function transitionend(element, func, duration) {\n    var _ended = false, _fn = function (evnt) {\n        if (typeof evnt !== 'undefined') {\n            if (evnt.target !== element) {\n                return;\n            }\n        }\n        if (!_ended) {\n            element.removeEventListener('transitionend', _fn);\n            element.removeEventListener('webkitTransitionEnd', _fn);\n            func.call(element);\n        }\n        _ended = true;\n    };\n    element.addEventListener('transitionend', _fn);\n    element.addEventListener('webkitTransitionEnd', _fn);\n    setTimeout(_fn, duration * 1.1);\n}\n/**\n * Get a (page wide) unique ID.\n */\nexport function uniqueId() {\n    return 'mm-' + __id++;\n}\nvar __id = 0;\n/**\n * Get the original ID from a possibly prefixed ID.\n * @param id The possibly prefixed ID.\n */\nexport function originalId(id) {\n    if (id.slice(0, 3) == 'mm-') {\n        return id.slice(3);\n    }\n    return id;\n}\n","import { extend } from './helpers';\nvar translations = {};\n/**\n * Add translations to a language.\n * @param {object}  text        Object of key/value translations.\n * @param {string}  language    The translated language.\n */\nexport function add(text, language) {\n    if (typeof translations[language] == 'undefined') {\n        translations[language] = {};\n    }\n    extend(translations[language], text);\n}\n/**\n * Find a translated text in a language.\n * @param   {string} text       The text to find the translation for.\n * @param   {string} language   The language to search in.\n * @return  {string}            The translated text.\n */\nexport function get(text, language) {\n    if (typeof language == 'string' &&\n        typeof translations[language] != 'undefined') {\n        return translations[language][text] || text;\n    }\n    return text;\n}\n/**\n * Get all translated text in a language.\n * @param   {string} language   The language to search for.\n * @return  {object}            The translations.\n */\nexport function all(language) {\n    return translations;\n}\n","export default {\n    'Menu': 'Menu'\n};\n","export default {\n    'Menu': 'منو'\n};\n","export default {\n    'Menu': 'Menü'\n};\n","export default {\n    'Menu': 'Меню'\n};\n","import { add } from '../../../_modules/i18n';\nimport nl from './nl';\nimport fa from './fa';\nimport de from './de';\nimport ru from './ru';\nexport default function () {\n    add(nl, 'nl');\n    add(fa, 'fa');\n    add(de, 'de');\n    add(ru, 'ru');\n}\n","/**\n * Create an element with classname.\n *\n * @param \t{string}\t\tselector\tThe nodeName and classnames for the element to create.\n * @return\t{HTMLElement}\t\t\t\tThe created element.\n */\nexport function create(selector) {\n    var args = selector.split('.');\n    var elem = document.createElement(args.shift());\n    //  IE11:\n    args.forEach(function (classname) {\n        elem.classList.add(classname);\n    });\n    //  Better browsers:\n    // elem.classList.add(...args);\n    return elem;\n}\n/**\n * Find all elements matching the selector.\n * Basically the same as element.querySelectorAll() but it returns an actuall array.\n *\n * @param \t{HTMLElement} \telement Element to search in.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of elements that match the filter.\n */\nexport function find(element, filter) {\n    return Array.prototype.slice.call(element.querySelectorAll(filter));\n}\n/**\n * Find all child elements matching the (optional) selector.\n *\n * @param \t{HTMLElement} \telement Element to search in.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of child elements that match the filter.\n */\nexport function children(element, filter) {\n    var children = Array.prototype.slice.call(element.children);\n    return filter\n        ? children.filter(function (child) { return child.matches(filter); })\n        : children;\n}\n/**\n * Find text excluding text from within child elements.\n * @param   {HTMLElement}   element Element to search in.\n * @return  {string}                The text.\n */\nexport function text(element) {\n    return Array.prototype.slice\n        .call(element.childNodes)\n        .filter(function (child) { return child.nodeType == 3; })\n        .map(function (child) { return child.textContent; })\n        .join(' ');\n}\n/**\n * Find all preceding elements matching the selector.\n *\n * @param \t{HTMLElement} \telement Element to start searching from.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of preceding elements that match the selector.\n */\nexport function parents(element, filter) {\n    /** Array of preceding elements that match the selector. */\n    var parents = [];\n    /** Array of preceding elements that match the selector. */\n    var parent = element.parentElement;\n    while (parent) {\n        parents.push(parent);\n        parent = parent.parentElement;\n    }\n    return filter\n        ? parents.filter(function (parent) { return parent.matches(filter); })\n        : parents;\n}\n/**\n * Find all previous siblings matching the selecotr.\n *\n * @param \t{HTMLElement} \telement Element to start searching from.\n * @param \t{string}\t\tfilter\tThe filter to match.\n * @return\t{array}\t\t\t\t\tArray of previous siblings that match the selector.\n */\nexport function prevAll(element, filter) {\n    /** Array of previous siblings that match the selector. */\n    var previous = [];\n    /** Current element in the loop */\n    var current = element.previousElementSibling;\n    while (current) {\n        if (!filter || current.matches(filter)) {\n            previous.push(current);\n        }\n        current = current.previousElementSibling;\n    }\n    return previous;\n}\n/**\n * Get an element offset relative to the document.\n *\n * @param \t{HTMLElement}\t element \t\t\tElement to start measuring from.\n * @param \t{string}\t\t [direction=top] \tOffset top or left.\n * @return\t{number}\t\t\t\t\t\t\tThe element offset relative to the document.\n */\nexport function offset(element, direction) {\n    return (element.getBoundingClientRect()[direction] +\n        document.body[direction === 'left' ? 'scrollLeft' : 'scrollTop']);\n}\n/**\n * Filter out non-listitem listitems.\n * @param  {array} listitems \tElements to filter.\n * @return {array}\t\t\t\tThe filtered set of listitems.\n */\nexport function filterLI(listitems) {\n    return listitems.filter(function (listitem) { return !listitem.matches('.mm-hidden'); });\n}\n/**\n * Find anchors in listitems (excluding anchor that open a sub-panel).\n * @param  {array} \tlistitems \tElements to filter.\n * @return {array}\t\t\t\tThe found set of anchors.\n */\nexport function filterLIA(listitems) {\n    var anchors = [];\n    filterLI(listitems).forEach(function (listitem) {\n        anchors.push.apply(anchors, children(listitem, 'a.mm-listitem__text'));\n    });\n    return anchors.filter(function (anchor) { return !anchor.matches('.mm-btn_next'); });\n}\n/**\n * Refactor a classname on multiple elements.\n * @param {HTMLElement} element \tElement to refactor.\n * @param {string}\t\toldClass \tClassname to remove.\n * @param {string}\t\tnewClass \tClassname to add.\n */\nexport function reClass(element, oldClass, newClass) {\n    if (element.matches('.' + oldClass)) {\n        element.classList.remove(oldClass);\n        element.classList.add(newClass);\n    }\n}\n","/** Collection of callback functions for media querys. */\nvar listeners = {};\n/**\n * Bind functions to a matchMedia listener (subscriber).\n *\n * @param {string|number} \tquery \tMedia query to match or number for min-width.\n * @param {function} \t\tyes \tFunction to invoke when the media query matches.\n * @param {function} \t\tno \t\tFunction to invoke when the media query doesn't match.\n */\nexport function add(query, yes, no) {\n    if (typeof query == 'number') {\n        query = '(min-width: ' + query + 'px)';\n    }\n    listeners[query] = listeners[query] || [];\n    listeners[query].push({ yes: yes, no: no });\n}\n/**\n * Initialize the matchMedia listener.\n */\nexport function watch() {\n    var _loop_1 = function (query) {\n        var mqlist = window.matchMedia(query);\n        fire(query, mqlist);\n        mqlist.onchange = function (evnt) {\n            fire(query, mqlist);\n        };\n    };\n    for (var query in listeners) {\n        _loop_1(query);\n    }\n}\n/**\n * Invoke the \"yes\" or \"no\" function for a matchMedia listener (publisher).\n *\n * @param {string} \t\t\tquery \tMedia query to check for.\n * @param {MediaQueryList} \tmqlist \tMedia query list to check with.\n */\nexport function fire(query, mqlist) {\n    var fn = mqlist.matches ? 'yes' : 'no';\n    for (var m = 0; m < listeners[query].length; m++) {\n        listeners[query][m][fn]();\n    }\n}\n","import * as pack from '../../../package.json';\nimport options from './_options';\nimport configs from './_configs';\nimport translate from './translations/translate';\nimport * as DOM from '../../_modules/dom';\nimport * as i18n from '../../_modules/i18n';\nimport * as media from '../../_modules/matchmedia';\nimport {\n    type,\n    extend,\n    transitionend,\n    uniqueId,\n    valueOrFn,\n} from '../../_modules/helpers';\n\n//  Add the translations.\ntranslate();\n\n/**\n * Class for a mobile menu.\n */\nvar Mmenu = /** @class */ (function () {\n    /**\n     * Create a mobile menu.\n     * @param {HTMLElement|string} \tmenu\t\t\t\t\t\tThe menu node.\n     * @param {object} \t\t\t\t[options=Mmenu.options]\t\tOptions for the menu.\n     * @param {object} \t\t\t\t[configs=Mmenu.configs]\t\tConfiguration options for the menu.\n     */\n    function Mmenu(menu, options, configs) {\n        //\tExtend options and configuration from defaults.\n        this.opts = extend(options, Mmenu.options);\n        this.conf = extend(configs, Mmenu.configs);\n\n        //\tMethods to expose in the API.\n        this._api = [\n            'bind',\n            'initPanel',\n            'initListview',\n            'openPanel',\n            'closePanel',\n            'closeAllPanels',\n            'setSelected',\n        ];\n\n        //\tStorage objects for nodes, variables, hooks and click handlers.\n        this.node = {};\n        this.vars = {};\n        this.hook = {};\n        this.clck = [];\n\n        //\tGet menu node from string or element.\n        this.node.menu =\n            typeof menu == 'string' ? document.querySelector(menu) : menu;\n        if (typeof this._deprecatedWarnings == 'function') {\n            this._deprecatedWarnings();\n        }\n        this._initWrappers();\n        this._initAddons();\n        this._initExtensions();\n        this._initHooks();\n        this._initAPI();\n        this._initMenu();\n        this._initPanels();\n        this._initOpened();\n        this._initAnchors();\n        media.watch();\n        return this;\n    }\n    /**\n     * Open a panel.\n     * @param {HTMLElement} panel\t\t\t\tPanel to open.\n     * @param {boolean}\t\t[animation=true]\tWhether or not to open the panel with an animation.\n     */\n    Mmenu.prototype.openPanel = function (panel, animation) {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('openPanel:before', [panel]);\n        //\tFind panel.\n        if (!panel) {\n            return;\n        }\n        if (!panel.matches('.mm-panel')) {\n            panel = panel.closest('.mm-panel');\n        }\n        if (!panel) {\n            return;\n        }\n        //\t/Find panel.\n        if (typeof animation != 'boolean') {\n            animation = true;\n        }\n        //\tOpen a \"vertical\" panel.\n        if (panel.parentElement.matches('.mm-listitem_vertical')) {\n            //\tOpen current and all vertical parent panels.\n            DOM.parents(panel, '.mm-listitem_vertical').forEach(function (\n                listitem\n            ) {\n                listitem.classList.add('mm-listitem_opened');\n                DOM.children(listitem, '.mm-panel').forEach(function (panel) {\n                    panel.classList.remove('mm-hidden');\n                });\n            });\n            //\tOpen first non-vertical parent panel.\n            var parents = DOM.parents(panel, '.mm-panel').filter(function (\n                panel\n            ) {\n                return !panel.parentElement.matches('.mm-listitem_vertical');\n            });\n            this.trigger('openPanel:start', [panel]);\n            if (parents.length) {\n                this.openPanel(parents[0]);\n            }\n            this.trigger('openPanel:finish', [panel]);\n            //\tOpen a \"horizontal\" panel.\n        } else {\n            if (panel.matches('.mm-panel_opened')) {\n                return;\n            }\n            var panels = DOM.children(this.node.pnls, '.mm-panel'),\n                current_1 = DOM.children(this.node.pnls, '.mm-panel_opened')[0];\n            //\tClose all child panels.\n            panels\n                .filter(function (parent) {\n                    return parent !== panel;\n                })\n                .forEach(function (parent) {\n                    parent.classList.remove('mm-panel_opened-parent');\n                });\n            //\tOpen all parent panels.\n            var parent_1 = panel['mmParent'];\n            while (parent_1) {\n                parent_1 = parent_1.closest('.mm-panel');\n                if (parent_1) {\n                    if (\n                        !parent_1.parentElement.matches('.mm-listitem_vertical')\n                    ) {\n                        parent_1.classList.add('mm-panel_opened-parent');\n                    }\n                    parent_1 = parent_1['mmParent'];\n                }\n            }\n            //\tAdd classes for animation.\n            panels.forEach(function (panel) {\n                panel.classList.remove('mm-panel_highest');\n            });\n            panels\n                .filter(function (hidden) {\n                    return hidden !== current_1;\n                })\n                .filter(function (hidden) {\n                    return hidden !== panel;\n                })\n                .forEach(function (hidden) {\n                    hidden.classList.add('mm-hidden');\n                });\n            panel.classList.remove('mm-hidden');\n            /**\tStart opening the panel. */\n            var openPanelStart_1 = function () {\n                if (current_1) {\n                    current_1.classList.remove('mm-panel_opened');\n                }\n                panel.classList.add('mm-panel_opened');\n                if (panel.matches('.mm-panel_opened-parent')) {\n                    if (current_1) {\n                        current_1.classList.add('mm-panel_highest');\n                    }\n                    panel.classList.remove('mm-panel_opened-parent');\n                } else {\n                    if (current_1) {\n                        current_1.classList.add('mm-panel_opened-parent');\n                    }\n                    panel.classList.add('mm-panel_highest');\n                }\n                //\tInvoke \"start\" hook.\n                _this.trigger('openPanel:start', [panel]);\n            };\n            /**\tFinish opening the panel. */\n            var openPanelFinish_1 = function () {\n                if (current_1) {\n                    current_1.classList.remove('mm-panel_highest');\n                    current_1.classList.add('mm-hidden');\n                }\n                panel.classList.remove('mm-panel_highest');\n                //\tInvoke \"finish\" hook.\n                _this.trigger('openPanel:finish', [panel]);\n            };\n            if (animation && !panel.matches('.mm-panel_noanimation')) {\n                //\tWithout the timeout the animation will not work because the element had display: none;\n                setTimeout(function () {\n                    //\tCallback\n                    transitionend(\n                        panel,\n                        function () {\n                            openPanelFinish_1();\n                        },\n                        _this.conf.transitionDuration\n                    );\n                    openPanelStart_1();\n                }, this.conf.openingInterval);\n            } else {\n                openPanelStart_1();\n                openPanelFinish_1();\n            }\n        }\n        //\tInvoke \"after\" hook.\n        this.trigger('openPanel:after', [panel]);\n    };\n    /**\n     * Close a panel.\n     * @param {HTMLElement} panel Panel to close.\n     */\n    Mmenu.prototype.closePanel = function (panel) {\n        //\tInvoke \"before\" hook.\n        this.trigger('closePanel:before', [panel]);\n        var li = panel.parentElement;\n        //\tOnly works for \"vertical\" panels.\n        if (li.matches('.mm-listitem_vertical')) {\n            li.classList.remove('mm-listitem_opened');\n            panel.classList.add('mm-hidden');\n            //\tInvoke main hook.\n            this.trigger('closePanel', [panel]);\n        }\n        //\tInvoke \"after\" hook.\n        this.trigger('closePanel:after', [panel]);\n    };\n    /**\n     * Close all opened panels.\n     * @param {HTMLElement} panel Panel to open after closing all other panels.\n     */\n    Mmenu.prototype.closeAllPanels = function (panel) {\n        //\tInvoke \"before\" hook.\n        this.trigger('closeAllPanels:before');\n        //\tClose all \"vertical\" panels.\n        var listitems = this.node.pnls.querySelectorAll('.mm-listitem');\n        listitems.forEach(function (listitem) {\n            listitem.classList.remove('mm-listitem_selected');\n            listitem.classList.remove('mm-listitem_opened');\n        });\n        //\tClose all \"horizontal\" panels.\n        var panels = DOM.children(this.node.pnls, '.mm-panel'),\n            opened = panel ? panel : panels[0];\n        DOM.children(this.node.pnls, '.mm-panel').forEach(function (panel) {\n            if (panel !== opened) {\n                panel.classList.remove('mm-panel_opened');\n                panel.classList.remove('mm-panel_opened-parent');\n                panel.classList.remove('mm-panel_highest');\n                panel.classList.add('mm-hidden');\n            }\n        });\n        //\tOpen first panel.\n        this.openPanel(opened, false);\n        //\tInvoke \"after\" hook.\n        this.trigger('closeAllPanels:after');\n    };\n    /**\n     * Toggle a panel opened/closed.\n     * @param {HTMLElement} panel Panel to open or close.\n     */\n    Mmenu.prototype.togglePanel = function (panel) {\n        var listitem = panel.parentElement;\n        //\tOnly works for \"vertical\" panels.\n        if (listitem.matches('.mm-listitem_vertical')) {\n            this[\n                listitem.matches('.mm-listitem_opened')\n                    ? 'closePanel'\n                    : 'openPanel'\n            ](panel);\n        }\n    };\n    /**\n     * Display a listitem as being \"selected\".\n     * @param {HTMLElement} listitem Listitem to mark.\n     */\n    Mmenu.prototype.setSelected = function (listitem) {\n        //\tInvoke \"before\" hook.\n        this.trigger('setSelected:before', [listitem]);\n        //\tFirst, remove the selected class from all listitems.\n        DOM.find(this.node.menu, '.mm-listitem_selected').forEach(function (\n            li\n        ) {\n            li.classList.remove('mm-listitem_selected');\n        });\n        //\tNext, add the selected class to the provided listitem.\n        listitem.classList.add('mm-listitem_selected');\n        //\tInvoke \"after\" hook.\n        this.trigger('setSelected:after', [listitem]);\n    };\n    /**\n     * Bind functions to a hook (subscriber).\n     * @param {string} \t\thook The hook.\n     * @param {function} \tfunc The function.\n     */\n    Mmenu.prototype.bind = function (hook, func) {\n        //\tCreate an array for the hook if it does not yet excist.\n        this.hook[hook] = this.hook[hook] || [];\n        //\tPush the function to the array.\n        this.hook[hook].push(func);\n    };\n    /**\n     * Invoke the functions bound to a hook (publisher).\n     * @param {string} \thook  \tThe hook.\n     * @param {array}\t[args] \tArguments for the function.\n     */\n    Mmenu.prototype.trigger = function (hook, args) {\n        if (this.hook[hook]) {\n            for (var h = 0, l = this.hook[hook].length; h < l; h++) {\n                this.hook[hook][h].apply(this, args);\n            }\n        }\n    };\n    /**\n     * Create the API.\n     */\n    Mmenu.prototype._initAPI = function () {\n        var _this = this;\n        //\tWe need this=that because:\n        //\t1) the \"arguments\" object can not be referenced in an arrow function in ES3 and ES5.\n        var that = this;\n        this.API = {};\n        this._api.forEach(function (fn) {\n            _this.API[fn] = function () {\n                var re = that[fn].apply(that, arguments); // 1)\n                return typeof re == 'undefined' ? that.API : re;\n            };\n        });\n        //\tStore the API in the HTML node for external usage.\n        this.node.menu['mmApi'] = this.API;\n    };\n    /**\n     * Bind the hooks specified in the options (publisher).\n     */\n    Mmenu.prototype._initHooks = function () {\n        for (var hook in this.opts.hooks) {\n            this.bind(hook, this.opts.hooks[hook]);\n        }\n    };\n    /**\n     * Initialize the wrappers specified in the options.\n     */\n    Mmenu.prototype._initWrappers = function () {\n        //\tInvoke \"before\" hook.\n        this.trigger('initWrappers:before');\n        for (var w = 0; w < this.opts.wrappers.length; w++) {\n            var wrpr = Mmenu.wrappers[this.opts.wrappers[w]];\n            if (typeof wrpr == 'function') {\n                wrpr.call(this);\n            }\n        }\n        //\tInvoke \"after\" hook.\n        this.trigger('initWrappers:after');\n    };\n    /**\n     * Initialize all available add-ons.\n     */\n    Mmenu.prototype._initAddons = function () {\n        //\tInvoke \"before\" hook.\n        this.trigger('initAddons:before');\n        for (var addon in Mmenu.addons) {\n            Mmenu.addons[addon].call(this);\n        }\n        //\tInvoke \"after\" hook.\n        this.trigger('initAddons:after');\n    };\n    /**\n     * Initialize the extensions specified in the options.\n     */\n    Mmenu.prototype._initExtensions = function () {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initExtensions:before');\n        //\tConvert array to object with array.\n        if (type(this.opts.extensions) == 'array') {\n            this.opts.extensions = {\n                all: this.opts.extensions,\n            };\n        }\n        //\tLoop over object.\n        Object.keys(this.opts.extensions).forEach(function (query) {\n            var classnames = _this.opts.extensions[query].map(function (\n                extension\n            ) {\n                return 'mm-menu_' + extension;\n            });\n            if (classnames.length) {\n                media.add(\n                    query,\n                    function () {\n                        //  IE11:\n                        classnames.forEach(function (classname) {\n                            _this.node.menu.classList.add(classname);\n                        });\n                        //  Better browsers:\n                        // this.node.menu.classList.add(...classnames);\n                    },\n                    function () {\n                        //  IE11:\n                        classnames.forEach(function (classname) {\n                            _this.node.menu.classList.remove(classname);\n                        });\n                        //  Better browsers:\n                        // this.node.menu.classList.remove(...classnames);\n                    }\n                );\n            }\n        });\n        //\tInvoke \"after\" hook.\n        this.trigger('initExtensions:after');\n    };\n    /**\n     * Initialize the menu.\n     */\n    Mmenu.prototype._initMenu = function () {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initMenu:before');\n        //\tAdd class to the wrapper.\n        this.node.wrpr = this.node.wrpr || this.node.menu.parentElement;\n        this.node.wrpr.classList.add('mm-wrapper');\n        //\tAdd an ID to the menu if it does not yet have one.\n        this.node.menu.id = this.node.menu.id || uniqueId();\n        //\tWrap the panels in a node.\n        var panels = DOM.create('div.mm-panels');\n        DOM.children(this.node.menu).forEach(function (panel) {\n            if (\n                _this.conf.panelNodetype.indexOf(panel.nodeName.toLowerCase()) >\n                -1\n            ) {\n                panels.append(panel);\n            }\n        });\n        this.node.menu.append(panels);\n        this.node.pnls = panels;\n        //\tAdd class to the menu.\n        this.node.menu.classList.add('mm-menu');\n        //\tInvoke \"after\" hook.\n        this.trigger('initMenu:after');\n    };\n    /**\n     * Initialize panels.\n     */\n    Mmenu.prototype._initPanels = function () {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initPanels:before');\n        //\tOpen / close panels.\n        this.clck.push(function (anchor, args) {\n            if (args.inMenu) {\n                var href = anchor.getAttribute('href');\n                if (href && href.length > 1 && href.slice(0, 1) == '#') {\n                    try {\n                        var panel = DOM.find(_this.node.menu, href)[0];\n                        if (panel && panel.matches('.mm-panel')) {\n                            if (\n                                anchor.parentElement.matches(\n                                    '.mm-listitem_vertical'\n                                )\n                            ) {\n                                _this.togglePanel(panel);\n                            } else {\n                                _this.openPanel(panel);\n                            }\n                            return true;\n                        }\n                    } catch (err) {}\n                }\n            }\n        });\n        /** The panels to initiate */\n        var panels = DOM.children(this.node.pnls);\n        panels.forEach(function (panel) {\n            _this.initPanel(panel);\n        });\n        //\tInvoke \"after\" hook.\n        this.trigger('initPanels:after');\n    };\n    /**\n     * Initialize a single panel and its children.\n     * @param {HTMLElement} panel The panel to initialize.\n     */\n    Mmenu.prototype.initPanel = function (panel) {\n        var _this = this;\n        /** Query selector for possible node-types for panels. */\n        var panelNodetype = this.conf.panelNodetype.join(', ');\n        if (panel.matches(panelNodetype)) {\n            //  Only once\n            if (!panel.matches('.mm-panel')) {\n                panel = this._initPanel(panel);\n            }\n            if (panel) {\n                /** The sub panels. */\n                var children_1 = [];\n                //\tFind panel > panel\n                children_1.push.apply(\n                    children_1,\n                    DOM.children(panel, '.' + this.conf.classNames.panel)\n                );\n                //\tFind panel listitem > panel\n                DOM.children(panel, '.mm-listview').forEach(function (\n                    listview\n                ) {\n                    DOM.children(listview, '.mm-listitem').forEach(function (\n                        listitem\n                    ) {\n                        children_1.push.apply(\n                            children_1,\n                            DOM.children(listitem, panelNodetype)\n                        );\n                    });\n                });\n                //  Initiate subpanel(s).\n                children_1.forEach(function (child) {\n                    _this.initPanel(child);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize a single panel.\n     * @param  {HTMLElement} \t\tpanel \tPanel to initialize.\n     * @return {HTMLElement|null} \t\t\tInitialized panel.\n     */\n    Mmenu.prototype._initPanel = function (panel) {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initPanel:before', [panel]);\n        //\tRefactor panel classnames\n        DOM.reClass(panel, this.conf.classNames.panel, 'mm-panel');\n        DOM.reClass(panel, this.conf.classNames.nopanel, 'mm-nopanel');\n        DOM.reClass(panel, this.conf.classNames.inset, 'mm-listview_inset');\n        if (panel.matches('.mm-listview_inset')) {\n            panel.classList.add('mm-nopanel');\n        }\n        //\tStop if not supposed to be a panel.\n        if (panel.matches('.mm-nopanel')) {\n            return null;\n        }\n        /** The original ID on the node. */\n        var id = panel.id || uniqueId();\n        //  Vertical panel.\n        var vertical =\n            panel.matches('.' + this.conf.classNames.vertical) ||\n            !this.opts.slidingSubmenus;\n        panel.classList.remove(this.conf.classNames.vertical);\n        //\tWrap UL/OL in DIV\n        if (panel.matches('ul, ol')) {\n            panel.removeAttribute('id');\n            /** The panel. */\n            var wrapper = DOM.create('div');\n            //\tWrap the listview in the panel.\n            panel.before(wrapper);\n            wrapper.append(panel);\n            panel = wrapper;\n        }\n        panel.id = id;\n        panel.classList.add('mm-panel');\n        panel.classList.add('mm-hidden');\n        /** The parent listitem. */\n        var parent = [panel.parentElement].filter(function (listitem) {\n            return listitem.matches('li');\n        })[0];\n        if (vertical) {\n            if (parent) {\n                parent.classList.add('mm-listitem_vertical');\n            }\n        } else {\n            this.node.pnls.append(panel);\n        }\n        if (parent) {\n            //\tStore parent/child relation.\n            parent['mmChild'] = panel;\n            panel['mmParent'] = parent;\n            //\tAdd open link to parent listitem\n            if (parent && parent.matches('.mm-listitem')) {\n                if (!DOM.children(parent, '.mm-btn').length) {\n                    /** The text node. */\n                    var item = DOM.children(parent, '.mm-listitem__text')[0];\n                    if (item) {\n                        /** The open link. */\n                        var button = DOM.create(\n                            'a.mm-btn.mm-btn_next.mm-listitem__btn'\n                        );\n                        button.setAttribute('href', '#' + panel.id);\n                        //  If the item has no link,\n                        //      Replace the item with the open link.\n                        if (item.matches('span')) {\n                            button.classList.add('mm-listitem__text');\n                            button.innerHTML = item.innerHTML;\n                            parent.insertBefore(\n                                button,\n                                item.nextElementSibling\n                            );\n                            item.remove();\n                        }\n                        //  Otherwise, insert the button after the text.\n                        else {\n                            parent.insertBefore(\n                                button,\n                                DOM.children(parent, '.mm-panel')[0]\n                            );\n                        }\n                    }\n                }\n            }\n        }\n        this._initNavbar(panel);\n        DOM.children(panel, 'ul, ol').forEach(function (listview) {\n            _this.initListview(listview);\n        });\n        //\tInvoke \"after\" hook.\n        this.trigger('initPanel:after', [panel]);\n        return panel;\n    };\n    /**\n     * Initialize a navbar.\n     * @param {HTMLElement} panel Panel for the navbar.\n     */\n    Mmenu.prototype._initNavbar = function (panel) {\n        //\tInvoke \"before\" hook.\n        this.trigger('initNavbar:before', [panel]);\n        //\tOnly one navbar per panel.\n        if (DOM.children(panel, '.mm-navbar').length) {\n            return;\n        }\n        /** The parent listitem. */\n        var parentListitem = null;\n        /** The parent panel. */\n        var parentPanel = null;\n        //  The parent panel was specified in the data-mm-parent attribute.\n        if (panel.getAttribute('data-mm-parent')) {\n            parentPanel = DOM.find(\n                this.node.pnls,\n                panel.getAttribute('data-mm-parent')\n            )[0];\n        }\n        // if (panel.dataset.mmParent) { // IE10 has no dataset\n        // parentPanel = DOM.find(this.node.pnls, panel.dataset.mmParent)[0];\n        // }\n        //  The parent panel from a listitem.\n        else {\n            parentListitem = panel['mmParent'];\n            if (parentListitem) {\n                parentPanel = parentListitem.closest('.mm-panel');\n            }\n        }\n        //  No navbar needed for vertical submenus.\n        if (parentListitem && parentListitem.matches('.mm-listitem_vertical')) {\n            return;\n        }\n        /** The navbar element. */\n        var navbar = DOM.create('div.mm-navbar');\n        //  Hide navbar if specified in options.\n        if (!this.opts.navbar.add) {\n            navbar.classList.add('mm-hidden');\n        }\n        //  Sticky navbars.\n        else if (this.opts.navbar.sticky) {\n            navbar.classList.add('mm-navbar_sticky');\n        }\n        //  Add the back button.\n        if (parentPanel) {\n            /** The back button. */\n            var prev = DOM.create('a.mm-btn.mm-btn_prev.mm-navbar__btn');\n            prev.setAttribute('href', '#' + parentPanel.id);\n            navbar.append(prev);\n        }\n        /** The anchor that opens the panel. */\n        var opener = null;\n        //  The anchor is in a listitem.\n        if (parentListitem) {\n            opener = DOM.children(parentListitem, '.mm-listitem__text')[0];\n        }\n        //  The anchor is in a panel.\n        else if (parentPanel) {\n            opener = DOM.find(parentPanel, 'a[href=\"#' + panel.id + '\"]')[0];\n        }\n        //  Add the title.\n        var title = DOM.create('a.mm-navbar__title');\n        var titleText = DOM.create('span');\n        title.append(titleText);\n        titleText.innerHTML =\n            // panel.dataset.mmTitle || // IE10 has no dataset :(\n            panel.getAttribute('data-mm-title') ||\n            (opener ? opener.textContent : '') ||\n            this.i18n(this.opts.navbar.title) ||\n            this.i18n('Menu');\n        switch (this.opts.navbar.titleLink) {\n            case 'anchor':\n                if (opener) {\n                    title.setAttribute('href', opener.getAttribute('href'));\n                }\n                break;\n            case 'parent':\n                if (parentPanel) {\n                    title.setAttribute('href', '#' + parentPanel.id);\n                }\n                break;\n        }\n        navbar.append(title);\n        panel.prepend(navbar);\n        //\tInvoke \"after\" hook.\n        this.trigger('initNavbar:after', [panel]);\n    };\n    /**\n     * Initialize a listview.\n     * @param {HTMLElement} listview Listview to initialize.\n     */\n    Mmenu.prototype.initListview = function (listview) {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initListview:before', [listview]);\n        DOM.reClass(listview, this.conf.classNames.nolistview, 'mm-nolistview');\n        if (!listview.matches('.mm-nolistview')) {\n            listview.classList.add('mm-listview');\n            DOM.children(listview).forEach(function (listitem) {\n                listitem.classList.add('mm-listitem');\n                DOM.reClass(\n                    listitem,\n                    _this.conf.classNames.selected,\n                    'mm-listitem_selected'\n                );\n                DOM.children(listitem, 'a, span').forEach(function (item) {\n                    if (!item.matches('.mm-btn')) {\n                        item.classList.add('mm-listitem__text');\n                    }\n                });\n            });\n        }\n        //\tInvoke \"after\" hook.\n        this.trigger('initListview:after', [listview]);\n    };\n    /**\n     * Find and open the correct panel after creating the menu.\n     */\n    Mmenu.prototype._initOpened = function () {\n        //\tInvoke \"before\" hook.\n        this.trigger('initOpened:before');\n        /** The selected listitem(s). */\n        var listitems = this.node.pnls.querySelectorAll(\n            '.mm-listitem_selected'\n        );\n        /** The last selected listitem. */\n        var lastitem = null;\n        //\tDeselect the listitems.\n        listitems.forEach(function (listitem) {\n            lastitem = listitem;\n            listitem.classList.remove('mm-listitem_selected');\n        });\n        //\tRe-select the last listitem.\n        if (lastitem) {\n            lastitem.classList.add('mm-listitem_selected');\n        }\n        /**\tThe current opened panel. */\n        var current = lastitem\n            ? lastitem.closest('.mm-panel')\n            : DOM.children(this.node.pnls, '.mm-panel')[0];\n        //\tOpen the current opened panel.\n        this.openPanel(current, false);\n        //\tInvoke \"after\" hook.\n        this.trigger('initOpened:after');\n    };\n    /**\n     * Initialize anchors in / for the menu.\n     */\n    Mmenu.prototype._initAnchors = function () {\n        var _this = this;\n        //\tInvoke \"before\" hook.\n        this.trigger('initAnchors:before');\n        document.addEventListener(\n            'click',\n            function (evnt) {\n                /** The clicked element. */\n                var target = evnt.target.closest('a[href]');\n                if (!target) {\n                    return;\n                }\n                /** Arguments passed to the bound methods. */\n                var args = {\n                    inMenu: target.closest('.mm-menu') === _this.node.menu,\n                    inListview: target.matches('.mm-listitem > a'),\n                    toExternal:\n                        target.matches('[rel=\"external\"]') ||\n                        target.matches('[target=\"_blank\"]'),\n                };\n                var onClick = {\n                    close: null,\n                    setSelected: null,\n                    preventDefault:\n                        target.getAttribute('href').slice(0, 1) == '#',\n                };\n                //\tFind hooked behavior.\n                for (var c = 0; c < _this.clck.length; c++) {\n                    var click = _this.clck[c].call(_this, target, args);\n                    if (click) {\n                        if (typeof click == 'boolean') {\n                            evnt.preventDefault();\n                            return;\n                        }\n                        if (type(click) == 'object') {\n                            onClick = extend(click, onClick);\n                        }\n                    }\n                }\n                //\tDefault behavior for anchors in lists.\n                if (args.inMenu && args.inListview && !args.toExternal) {\n                    //\tSet selected item, Default: true\n                    if (\n                        valueOrFn(\n                            target,\n                            _this.opts.onClick.setSelected,\n                            onClick.setSelected\n                        )\n                    ) {\n                        _this.setSelected(target.parentElement);\n                    }\n                    //\tPrevent default / don't follow link. Default: false.\n                    if (\n                        valueOrFn(\n                            target,\n                            _this.opts.onClick.preventDefault,\n                            onClick.preventDefault\n                        )\n                    ) {\n                        evnt.preventDefault();\n                    }\n                    //\tClose menu. Default: false\n                    if (\n                        valueOrFn(\n                            target,\n                            _this.opts.onClick.close,\n                            onClick.close\n                        )\n                    ) {\n                        if (\n                            _this.opts.offCanvas &&\n                            typeof _this.close == 'function'\n                        ) {\n                            _this.close();\n                        }\n                    }\n                }\n            },\n            true\n        );\n        //\tInvoke \"after\" hook.\n        this.trigger('initAnchors:after');\n    };\n    /**\n     * Get the translation for a text.\n     * @param  {string} text \tText to translate.\n     * @return {string}\t\t\tThe translated text.\n     */\n    Mmenu.prototype.i18n = function (text) {\n        return i18n.get(text, this.conf.language);\n    };\n    /**\tPlugin version. */\n    Mmenu.version = pack.version;\n    /**\tDefault options for menus. */\n    Mmenu.options = options;\n    /**\tDefault configuration for menus. */\n    Mmenu.configs = configs;\n    /**\tAvailable add-ons for the plugin. */\n    Mmenu.addons = {};\n    /** Available wrappers for the plugin. */\n    Mmenu.wrappers = {};\n    /**\tGlobally used HTML elements. */\n    Mmenu.node = {};\n    /** Globally used variables. */\n    Mmenu.vars = {};\n    return Mmenu;\n})();\nexport default Mmenu;\n","var options = {\n    blockUI: true,\n    moveBackground: true\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","var configs = {\n    clone: false,\n    menu: {\n        insertMethod: 'prepend',\n        insertSelector: 'body'\n    },\n    page: {\n        nodetype: 'div',\n        selector: null,\n        noSelector: []\n    }\n};\nexport default configs;\n","/**\n * Make the first letter in a word uppercase.\n * @param {string} word The word.\n */\nfunction ucFirst(word) {\n    if (!word) {\n        return '';\n    }\n    return word.charAt(0).toUpperCase() + word.slice(1);\n}\n/**\n * Bind an event listener to an element.\n * @param {HTMLElement} element     The element to bind the event listener to.\n * @param {string}      evnt        The event to listen to.\n * @param {funcion}     handler     The function to invoke.\n */\nexport function on(element, evnt, handler) {\n    //  Extract the event name and space from the event (the event can include a namespace (click.foo)).\n    var evntParts = evnt.split('.');\n    evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n    element[evnt] = element[evnt] || [];\n    element[evnt].push(handler);\n    element.addEventListener(evntParts[0], handler);\n}\n/**\n * Remove an event listener from an element.\n * @param {HTMLElement} element The element to remove the event listeners from.\n * @param {string}      evnt    The event to remove.\n */\nexport function off(element, evnt) {\n    //  Extract the event name and space from the event (the event can include a namespace (click.foo)).\n    var evntParts = evnt.split('.');\n    evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n    (element[evnt] || []).forEach(function (handler) {\n        element.removeEventListener(evntParts[0], handler);\n    });\n}\n/**\n * Trigger the bound event listeners on an element.\n * @param {HTMLElement} element     The element of which to trigger the event listeners from.\n * @param {string}      evnt        The event to trigger.\n * @param {object}      [options]   Options to pass to the handler.\n */\nexport function trigger(element, evnt, options) {\n    var evntParts = evnt.split('.');\n    evnt = 'mmEvent' + ucFirst(evntParts[0]) + ucFirst(evntParts[1]);\n    (element[evnt] || []).forEach(function (handler) {\n        handler(options || {});\n    });\n}\n","import Mmenu from './../oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as events from '../../_modules/eventlisteners';\nimport { extend, transitionend, uniqueId, originalId } from '../../_modules/helpers';\n//  Add the options and configs.\nMmenu.options.offCanvas = options;\nMmenu.configs.offCanvas = configs;\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.offCanvas);\n    this.opts.offCanvas = extend(options, Mmenu.options.offCanvas);\n    var configs = this.conf.offCanvas;\n    //\tAdd methods to the API.\n    this._api.push('open', 'close', 'setPage');\n    //\tSetup the menu.\n    this.vars.opened = false;\n    //\tAdd off-canvas behavior.\n    this.bind('initMenu:before', function () {\n        //\tClone if needed.\n        if (configs.clone) {\n            //\tClone the original menu and store it.\n            _this.node.menu = _this.node.menu.cloneNode(true);\n            //\tPrefix all ID's in the cloned menu.\n            if (_this.node.menu.id) {\n                _this.node.menu.id = 'mm-' + _this.node.menu.id;\n            }\n            DOM.find(_this.node.menu, '[id]').forEach(function (elem) {\n                elem.id = 'mm-' + elem.id;\n            });\n        }\n        _this.node.wrpr = document.body;\n        //\tPrepend to the <body>\n        document\n            .querySelector(configs.menu.insertSelector)[configs.menu.insertMethod](_this.node.menu);\n    });\n    this.bind('initMenu:after', function () {\n        //\tSetup the UI blocker.\n        initBlocker.call(_this);\n        //\tSetup the page.\n        _this.setPage(Mmenu.node.page);\n        //\tSetup window events.\n        initWindow.call(_this);\n        //\tSetup the menu.\n        _this.node.menu.classList.add('mm-menu_offcanvas');\n        //\tOpen if url hash equals menu id (usefull when user clicks the hamburger icon before the menu is created)\n        var hash = window.location.hash;\n        if (hash) {\n            var id = originalId(_this.node.menu.id);\n            if (id && id == hash.slice(1)) {\n                setTimeout(function () {\n                    _this.open();\n                }, 1000);\n            }\n        }\n    });\n    //\tSync the blocker to target the page.\n    this.bind('setPage:after', function (page) {\n        if (Mmenu.node.blck) {\n            DOM.children(Mmenu.node.blck, 'a').forEach(function (anchor) {\n                anchor.setAttribute('href', '#' + page.id);\n            });\n        }\n    });\n    //\tAdd screenreader / aria support\n    this.bind('open:start:sr-aria', function () {\n        Mmenu.sr_aria(_this.node.menu, 'hidden', false);\n    });\n    this.bind('close:finish:sr-aria', function () {\n        Mmenu.sr_aria(_this.node.menu, 'hidden', true);\n    });\n    this.bind('initMenu:after:sr-aria', function () {\n        Mmenu.sr_aria(_this.node.menu, 'hidden', true);\n    });\n    //\tAdd screenreader / text support\n    this.bind('initBlocker:after:sr-text', function () {\n        DOM.children(Mmenu.node.blck, 'a').forEach(function (anchor) {\n            anchor.innerHTML = Mmenu.sr_text(_this.i18n(_this.conf.screenReader.text.closeMenu));\n        });\n    });\n    //\tAdd click behavior.\n    //\tPrevents default behavior when clicking an anchor\n    this.clck.push(function (anchor, args) {\n        //\tOpen menu if the clicked anchor links to the menu\n        var id = originalId(_this.node.menu.id);\n        if (id) {\n            if (anchor.matches('[href=\"#' + id + '\"]')) {\n                //\tOpening this menu from within this menu\n                //\t\t-> Open menu\n                if (args.inMenu) {\n                    _this.open();\n                    return true;\n                }\n                //\tOpening this menu from within a second menu\n                //\t\t-> Close the second menu before opening this menu\n                var menu = anchor.closest('.mm-menu');\n                if (menu) {\n                    var api = menu['mmApi'];\n                    if (api && api.close) {\n                        api.close();\n                        transitionend(menu, function () {\n                            _this.open();\n                        }, _this.conf.transitionDuration);\n                        return true;\n                    }\n                }\n                //\tOpening this menu\n                _this.open();\n                return true;\n            }\n        }\n        //\tClose menu\n        id = Mmenu.node.page.id;\n        if (id) {\n            if (anchor.matches('[href=\"#' + id + '\"]')) {\n                _this.close();\n                return true;\n            }\n        }\n        return;\n    });\n}\n/**\n * Open the menu.\n */\nMmenu.prototype.open = function () {\n    var _this = this;\n    //\tInvoke \"before\" hook.\n    this.trigger('open:before');\n    if (this.vars.opened) {\n        return;\n    }\n    this._openSetup();\n    //\tWithout the timeout, the animation won't work because the menu had display: none;\n    setTimeout(function () {\n        _this._openStart();\n    }, this.conf.openingInterval);\n    //\tInvoke \"after\" hook.\n    this.trigger('open:after');\n};\nMmenu.prototype._openSetup = function () {\n    var _this = this;\n    var options = this.opts.offCanvas;\n    //\tClose other menus\n    this.closeAllOthers();\n    //\tStore style and position\n    Mmenu.node.page['mmStyle'] = Mmenu.node.page.getAttribute('style') || '';\n    //\tTrigger window-resize to measure height\n    events.trigger(window, 'resize.page', { force: true });\n    var clsn = ['mm-wrapper_opened'];\n    //\tAdd options\n    if (options.blockUI) {\n        clsn.push('mm-wrapper_blocking');\n    }\n    if (options.blockUI == 'modal') {\n        clsn.push('mm-wrapper_modal');\n    }\n    if (options.moveBackground) {\n        clsn.push('mm-wrapper_background');\n    }\n    //  IE11:\n    clsn.forEach(function (classname) {\n        _this.node.wrpr.classList.add(classname);\n    });\n    //  Better browsers:\n    // this.node.wrpr.classList.add(...clsn);\n    //\tOpen\n    //\tWithout the timeout, the animation won't work because the menu had display: none;\n    setTimeout(function () {\n        _this.vars.opened = true;\n    }, this.conf.openingInterval);\n    this.node.menu.classList.add('mm-menu_opened');\n};\n/**\n * Finish opening the menu.\n */\nMmenu.prototype._openStart = function () {\n    var _this = this;\n    //\tCallback when the page finishes opening.\n    transitionend(Mmenu.node.page, function () {\n        _this.trigger('open:finish');\n    }, this.conf.transitionDuration);\n    //\tOpening\n    this.trigger('open:start');\n    this.node.wrpr.classList.add('mm-wrapper_opening');\n};\nMmenu.prototype.close = function () {\n    var _this = this;\n    //\tInvoke \"before\" hook.\n    this.trigger('close:before');\n    if (!this.vars.opened) {\n        return;\n    }\n    //\tCallback when the page finishes closing.\n    transitionend(Mmenu.node.page, function () {\n        _this.node.menu.classList.remove('mm-menu_opened');\n        var classnames = [\n            'mm-wrapper_opened',\n            'mm-wrapper_blocking',\n            'mm-wrapper_modal',\n            'mm-wrapper_background'\n        ];\n        //  IE11:\n        classnames.forEach(function (classname) {\n            _this.node.wrpr.classList.remove(classname);\n        });\n        //  Better browsers:\n        // this.node.wrpr.classList.remove(...classnames);\n        //\tRestore style and position\n        Mmenu.node.page.setAttribute('style', Mmenu.node.page['mmStyle']);\n        _this.vars.opened = false;\n        _this.trigger('close:finish');\n    }, this.conf.transitionDuration);\n    //\tClosing\n    this.trigger('close:start');\n    this.node.wrpr.classList.remove('mm-wrapper_opening');\n    //\tInvoke \"after\" hook.\n    this.trigger('close:after');\n};\n/**\n * Close all other menus.\n */\nMmenu.prototype.closeAllOthers = function () {\n    var _this = this;\n    DOM.find(document.body, '.mm-menu_offcanvas').forEach(function (menu) {\n        if (menu !== _this.node.menu) {\n            var api = menu['mmApi'];\n            if (api && api.close) {\n                api.close();\n            }\n        }\n    });\n};\n/**\n * Set the \"page\" node.\n *\n * @param {HTMLElement} page Element to set as the page.\n */\nMmenu.prototype.setPage = function (page) {\n    //\tInvoke \"before\" hook.\n    this.trigger('setPage:before', [page]);\n    var configs = this.conf.offCanvas;\n    //\tIf no page was specified, find it.\n    if (!page) {\n        /** Array of elements that are / could be \"the page\". */\n        var pages = typeof configs.page.selector == 'string'\n            ? DOM.find(document.body, configs.page.selector)\n            : DOM.children(document.body, configs.page.nodetype);\n        //\tFilter out elements that are absolutely not \"the page\".\n        pages = pages.filter(function (page) { return !page.matches('.mm-menu, .mm-wrapper__blocker'); });\n        //\tFilter out elements that are configured to not be \"the page\".\n        if (configs.page.noSelector.length) {\n            pages = pages.filter(function (page) { return !page.matches(configs.page.noSelector.join(', ')); });\n        }\n        //\tWrap multiple pages in a single element.\n        if (pages.length > 1) {\n            var wrapper_1 = DOM.create('div');\n            pages[0].before(wrapper_1);\n            pages.forEach(function (page) {\n                wrapper_1.append(page);\n            });\n            pages = [wrapper_1];\n        }\n        page = pages[0];\n    }\n    page.classList.add('mm-page');\n    page.classList.add('mm-slideout');\n    page.id = page.id || uniqueId();\n    Mmenu.node.page = page;\n    //\tInvoke \"after\" hook.\n    this.trigger('setPage:after', [page]);\n};\n/**\n * Initialize the window.\n */\nvar initWindow = function () {\n    var _this = this;\n    //\tPrevent tabbing\n    //\tBecause when tabbing outside the menu, the element that gains focus will be centered on the screen.\n    //\tIn other words: The menu would move out of view.\n    events.off(document.body, 'keydown.tabguard');\n    events.on(document.body, 'keydown.tabguard', function (evnt) {\n        if (evnt.keyCode == 9) {\n            if (_this.node.wrpr.matches('.mm-wrapper_opened')) {\n                evnt.preventDefault();\n            }\n        }\n    });\n};\n/**\n * Initialize \"blocker\" node\n */\nvar initBlocker = function () {\n    var _this = this;\n    //\tInvoke \"before\" hook.\n    this.trigger('initBlocker:before');\n    var options = this.opts.offCanvas, configs = this.conf.offCanvas;\n    if (!options.blockUI) {\n        return;\n    }\n    //\tCreate the blocker node.\n    if (!Mmenu.node.blck) {\n        var blck = DOM.create('div.mm-wrapper__blocker.mm-slideout');\n        blck.innerHTML = '<a></a>';\n        //\tAppend the blocker node to the body.\n        document.querySelector(configs.menu.insertSelector).append(blck);\n        //\tStore the blocker node.\n        Mmenu.node.blck = blck;\n    }\n    //\tClose the menu when\n    //\t\t1) clicking,\n    //\t\t2) touching or\n    //\t\t3) dragging the blocker node.\n    var closeMenu = function (evnt) {\n        evnt.preventDefault();\n        evnt.stopPropagation();\n        if (!_this.node.wrpr.matches('.mm-wrapper_modal')) {\n            _this.close();\n        }\n    };\n    Mmenu.node.blck.addEventListener('mousedown', closeMenu); // 1\n    Mmenu.node.blck.addEventListener('touchstart', closeMenu); // 2\n    Mmenu.node.blck.addEventListener('touchmove', closeMenu); // 3\n    //\tInvoke \"after\" hook.\n    this.trigger('initBlocker:after');\n};\n","var options = {\n    aria: true,\n    text: true\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            aria: options,\n            text: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","var configs = {\n    text: {\n        closeMenu: 'Close menu',\n        closeSubmenu: 'Close submenu',\n        openSubmenu: 'Open submenu',\n        toggleSubmenu: 'Toggle submenu'\n    }\n};\nexport default configs;\n","export default {\n    'Close menu': 'Menu sluiten',\n    'Close submenu': 'Submenu sluiten',\n    'Open submenu': 'Submenu openen',\n    'Toggle submenu': 'Submenu wisselen'\n};\n","export default {\n    'Close menu': 'بستن منو',\n    'Close submenu': 'بستن زیرمنو',\n    'Open submenu': 'بازکردن زیرمنو',\n    'Toggle submenu': 'سوییچ زیرمنو'\n};\n","export default {\n    'Close menu': 'Menü schließen',\n    'Close submenu': 'Untermenü schließen',\n    'Open submenu': 'Untermenü öffnen',\n    'Toggle submenu': 'Untermenü wechseln'\n};\n","export default {\n    'Close menu': 'Закрыть меню',\n    'Close submenu': 'Закрыть подменю',\n    'Open submenu': 'Открыть подменю',\n    'Toggle submenu': 'Переключить подменю'\n};\n","import { add } from '../../../_modules/i18n';\nimport nl from './nl';\nimport fa from './fa';\nimport de from './de';\nimport ru from './ru';\nexport default function () {\n    add(nl, 'nl');\n    add(fa, 'fa');\n    add(de, 'de');\n    add(ru, 'ru');\n}\n","import Mmenu from './../oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport translate from './translations/translate';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//  Add the translations.\ntranslate();\n//  Add the options and configs.\nMmenu.options.screenReader = options;\nMmenu.configs.screenReader = configs;\nexport default function () {\n    var _this = this;\n    //\tExtend options.\n    var options = extendShorthandOptions(this.opts.screenReader);\n    this.opts.screenReader = extend(options, Mmenu.options.screenReader);\n    //\tExtend configs.\n    var configs = this.conf.screenReader;\n    //\tAdd Aria-* attributes\n    if (options.aria) {\n        //\tAdd screenreader / aria hooks for add-ons\n        //\tIn orde to keep this list short, only extend hooks that are actually used by other add-ons.\n        this.bind('initAddons:after', function () {\n            _this.bind('initMenu:after', function () {\n                this.trigger('initMenu:after:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('initNavbar:after', function () {\n                this.trigger('initNavbar:after:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('openPanel:start', function () {\n                this.trigger('openPanel:start:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('close:start', function () {\n                this.trigger('close:start:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('close:finish', function () {\n                this.trigger('close:finish:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('open:start', function () {\n                this.trigger('open:start:sr-aria', [].slice.call(arguments));\n            });\n            _this.bind('initOpened:after', function () {\n                this.trigger('initOpened:after:sr-aria', [].slice.call(arguments));\n            });\n        });\n        //\tUpdate aria-hidden for hidden / visible listitems\n        this.bind('updateListview', function () {\n            _this.node.pnls\n                .querySelectorAll('.mm-listitem')\n                .forEach(function (listitem) {\n                Mmenu.sr_aria(listitem, 'hidden', listitem.matches('.mm-hidden'));\n            });\n        });\n        //\tUpdate aria-hidden for the panels when opening and closing a panel.\n        this.bind('openPanel:start', function (panel) {\n            /** Panels that should be considered \"hidden\". */\n            var hidden = DOM.find(_this.node.pnls, '.mm-panel')\n                .filter(function (hide) { return hide !== panel; })\n                .filter(function (hide) { return !hide.parentElement.matches('.mm-panel'); });\n            /** Panels that should be considered \"visible\". */\n            var visible = [panel];\n            DOM.find(panel, '.mm-listitem_vertical .mm-listitem_opened').forEach(function (listitem) {\n                visible.push.apply(visible, DOM.children(listitem, '.mm-panel'));\n            });\n            //\tSet the panels to be considered \"hidden\" or \"visible\".\n            hidden.forEach(function (panel) {\n                Mmenu.sr_aria(panel, 'hidden', true);\n            });\n            visible.forEach(function (panel) {\n                Mmenu.sr_aria(panel, 'hidden', false);\n            });\n        });\n        this.bind('closePanel', function (panel) {\n            Mmenu.sr_aria(panel, 'hidden', true);\n        });\n        //\tAdd aria-haspopup and aria-owns to prev- and next buttons.\n        this.bind('initPanel:after', function (panel) {\n            DOM.find(panel, '.mm-btn').forEach(function (button) {\n                Mmenu.sr_aria(button, 'haspopup', true);\n                var href = button.getAttribute('href');\n                if (href) {\n                    Mmenu.sr_aria(button, 'owns', href.replace('#', ''));\n                }\n            });\n        });\n        //\tAdd aria-hidden for navbars in panels.\n        this.bind('initNavbar:after', function (panel) {\n            /** The navbar in the panel. */\n            var navbar = DOM.children(panel, '.mm-navbar')[0];\n            /** Whether or not the navbar should be considered \"hidden\". */\n            var hidden = navbar.matches('.mm-hidden');\n            //\tSet the navbar to be considered \"hidden\" or \"visible\".\n            Mmenu.sr_aria(navbar, 'hidden', hidden);\n        });\n        //\tText\n        if (options.text) {\n            //\tAdd aria-hidden to titles in navbars\n            if (this.opts.navbar.titleLink == 'parent') {\n                this.bind('initNavbar:after', function (panel) {\n                    /** The navbar in the panel. */\n                    var navbar = DOM.children(panel, '.mm-navbar')[0];\n                    /** Whether or not the navbar should be considered \"hidden\". */\n                    var hidden = navbar.querySelector('.mm-btn_prev')\n                        ? true\n                        : false;\n                    //\tSet the navbar-title to be considered \"hidden\" or \"visible\".\n                    Mmenu.sr_aria(DOM.find(navbar, '.mm-navbar__title')[0], 'hidden', hidden);\n                });\n            }\n        }\n    }\n    //\tAdd screenreader text\n    if (options.text) {\n        //\tAdd screenreader / text hooks for add-ons\n        //\tIn orde to keep this list short, only extend hooks that are actually used by other add-ons.\n        this.bind('initAddons:after', function () {\n            _this.bind('setPage:after', function () {\n                this.trigger('setPage:after:sr-text', [].slice.call(arguments));\n            });\n            _this.bind('initBlocker:after', function () {\n                this.trigger('initBlocker:after:sr-text', [].slice.call(arguments));\n            });\n        });\n        //\tAdd text to the prev-buttons.\n        this.bind('initNavbar:after', function (panel) {\n            var navbar = DOM.children(panel, '.mm-navbar')[0];\n            if (navbar) {\n                var button = DOM.children(navbar, '.mm-btn_prev')[0];\n                if (button) {\n                    button.innerHTML = Mmenu.sr_text(_this.i18n(configs.text.closeSubmenu));\n                }\n            }\n        });\n        //\tAdd text to the next-buttons.\n        this.bind('initListview:after', function (listview) {\n            var parent = listview.closest('.mm-panel')['mmParent'];\n            if (parent) {\n                var next = DOM.children(parent, '.mm-btn_next')[0];\n                if (next) {\n                    var text = _this.i18n(configs.text[next.parentElement.matches('.mm-listitem_vertical')\n                        ? 'toggleSubmenu'\n                        : 'openSubmenu']);\n                    next.innerHTML += Mmenu.sr_text(text);\n                }\n            }\n        });\n    }\n}\n//\tMethods\n(function () {\n    var attr = function (element, attr, value) {\n        element[attr] = value;\n        if (value) {\n            element.setAttribute(attr, value.toString());\n        }\n        else {\n            element.removeAttribute(attr);\n        }\n    };\n    /**\n     * Add aria (property and) attribute to a HTML element.\n     *\n     * @param {HTMLElement} \telement\tThe node to add the attribute to.\n     * @param {string}\t\t\tname\tThe (non-aria-prefixed) attribute name.\n     * @param {string|boolean}\tvalue\tThe attribute value.\n     */\n    Mmenu.sr_aria = function (element, name, value) {\n        attr(element, 'aria-' + name, value);\n    };\n    /**\n     * Add role attribute to a HTML element.\n     *\n     * @param {HTMLElement}\t\telement\tThe node to add the attribute to.\n     * @param {string|boolean}\tvalue\tThe attribute value.\n     */\n    Mmenu.sr_role = function (element, value) {\n        attr(element, 'role', value);\n    };\n    /**\n     * Wrap a text in a screen-reader-only node.\n     *\n     * @param \t{string} text\tThe text to wrap.\n     * @return\t{string}\t\tThe wrapped text.\n     */\n    Mmenu.sr_text = function (text) {\n        return '<span class=\"mm-sronly\">' + text + '</span>';\n    };\n})();\n","var options = {\n    fix: true\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            fix: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","/** Whether or not touch gestures are supported by the browser. */\nexport var touch = 'ontouchstart' in window ||\n    (navigator.msMaxTouchPoints ? true : false) ||\n    false;\n","import Mmenu from './../oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as support from '../../_modules/support';\nimport { extend, touchDirection } from '../../_modules/helpers';\n//  Add the options.\nMmenu.options.scrollBugFix = options;\nexport default function () {\n    var _this = this;\n    //\tThe scrollBugFix add-on fixes a scrolling bug\n    //\t\t1) on touch devices\n    //\t\t2) in an off-canvas menu\n    //\t\t3) that -when opened- blocks the UI from interaction\n    if (!support.touch || // 1\n        !this.opts.offCanvas || // 2\n        !this.opts.offCanvas.blockUI // 3\n    ) {\n        return;\n    }\n    //\tExtend options.\n    var options = extendShorthandOptions(this.opts.scrollBugFix);\n    this.opts.scrollBugFix = extend(options, Mmenu.options.scrollBugFix);\n    if (!options.fix) {\n        return;\n    }\n    var touchDir = touchDirection(this.node.menu);\n    /**\n     * Prevent an event from doing its default and stop its propagation.\n     * @param {ScrollBehavior} evnt The event to stop.\n     */\n    function stop(evnt) {\n        evnt.preventDefault();\n        evnt.stopPropagation();\n    }\n    //  Prevent the page from scrolling when scrolling in the menu.\n    this.node.menu.addEventListener('scroll', stop, {\n        //  Make sure to tell the browser the event will be prevented.\n        passive: false,\n    });\n    //  Prevent the page from scrolling when dragging in the menu.\n    this.node.menu.addEventListener('touchmove', function (evnt) {\n        var wrapper = evnt.target.closest('.mm-panel, .mm-iconbar__top, .mm-iconbar__bottom');\n        if (wrapper && wrapper.closest('.mm-listitem_vertical')) {\n            wrapper = DOM.parents(wrapper, '.mm-panel').pop();\n        }\n        if (wrapper) {\n            //  When dragging a non-scrollable panel,\n            //      we can simple preventDefault and stopPropagation.\n            if (wrapper.scrollHeight === wrapper.offsetHeight) {\n                stop(evnt);\n            }\n            //  When dragging a scrollable panel,\n            //      that is fully scrolled up (or down).\n            //      It will not trigger the scroll event when dragging down (or up) (because you can't scroll up (or down)),\n            //      so we need to match the dragging direction with the scroll position before preventDefault and stopPropagation,\n            //      otherwise the panel would not scroll at all in any direction.\n            else if (\n            //  When scrolled up and dragging down\n            (wrapper.scrollTop == 0 && touchDir.get() == 'down') ||\n                //  When scrolled down and dragging up\n                (wrapper.scrollHeight ==\n                    wrapper.scrollTop + wrapper.offsetHeight &&\n                    touchDir.get() == 'up')) {\n                stop(evnt);\n            }\n            //  When dragging anything other than a panel.\n        }\n        else {\n            stop(evnt);\n        }\n    }, {\n        //  Make sure to tell the browser the event can be prevented.\n        passive: false,\n    });\n    //  Some small additional improvements\n    //\tScroll the current opened panel to the top when opening the menu.\n    this.bind('open:start', function () {\n        var panel = DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n        if (panel) {\n            panel.scrollTop = 0;\n        }\n    });\n    //\tFix issue after device rotation change.\n    window.addEventListener('orientationchange', function (evnt) {\n        var panel = DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n        if (panel) {\n            panel.scrollTop = 0;\n            //\tApparently, changing the overflow-scrolling property triggers some event :)\n            panel.style['-webkit-overflow-scrolling'] = 'auto';\n            panel.style['-webkit-overflow-scrolling'] = 'touch';\n        }\n    });\n}\n","var opts = {\n    height: 'default'\n};\nexport default opts;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean' && options) {\n        options = {\n            height: 'auto'\n        };\n    }\n    if (typeof options == 'string') {\n        options = {\n            height: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from './../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.autoHeight = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.autoHeight);\n    this.opts.autoHeight = extend(options, Mmenu.options.autoHeight);\n    if (options.height != 'auto' && options.height != 'highest') {\n        return;\n    }\n    var setHeight = (function () {\n        var getCurrent = function () {\n            var panel = DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n            if (panel) {\n                panel = measurablePanel(panel);\n            }\n            //\tFallback, just to be sure we have a panel.\n            if (!panel) {\n                panel = DOM.children(_this.node.pnls, '.mm-panel')[0];\n            }\n            return panel.scrollHeight;\n        };\n        var getHighest = function () {\n            var highest = 0;\n            DOM.children(_this.node.pnls, '.mm-panel').forEach(function (panel) {\n                panel = measurablePanel(panel);\n                highest = Math.max(highest, panel.scrollHeight);\n            });\n            return highest;\n        };\n        var measurablePanel = function (panel) {\n            //\tIf it's a vertically expanding panel...\n            if (panel.parentElement.matches('.mm-listitem_vertical')) {\n                //\t...find the first parent panel that isn't.\n                panel = DOM.parents(panel, '.mm-panel').filter(function (panel) {\n                    return !panel.parentElement.matches('.mm-listitem_vertical');\n                })[0];\n            }\n            return panel;\n        };\n        return function () {\n            if (_this.opts.offCanvas && !_this.vars.opened) {\n                return;\n            }\n            var _hgh = 0;\n            var _dif = _this.node.menu.offsetHeight - _this.node.pnls.offsetHeight;\n            //\tThe \"measuring\" classname undoes some CSS to be able to measure the height.\n            _this.node.menu.classList.add('mm-menu_autoheight-measuring');\n            //\tMeasure the height.\n            if (options.height == 'auto') {\n                _hgh = getCurrent();\n            }\n            else if (options.height == 'highest') {\n                _hgh = getHighest();\n            }\n            //\tSet the height.\n            _this.node.menu.style.height = _hgh + _dif + 'px';\n            //\tRemove the \"measuring\" classname.\n            _this.node.menu.classList.remove('mm-menu_autoheight-measuring');\n        };\n    })();\n    //\tAdd the autoheight class to the menu.\n    this.bind('initMenu:after', function () {\n        _this.node.menu.classList.add('mm-menu_autoheight');\n    });\n    if (this.opts.offCanvas) {\n        //\tMeasure the height when opening the off-canvas menu.\n        this.bind('open:start', setHeight);\n    }\n    if (options.height == 'highest') {\n        //\tMeasure the height when initiating panels.\n        this.bind('initPanels:after', setHeight);\n    }\n    if (options.height == 'auto') {\n        //\tMeasure the height when updating listviews.\n        this.bind('updateListview', setHeight);\n        //\tMeasure the height when opening a panel.\n        this.bind('openPanel:start', setHeight);\n    }\n}\n","var options = {\n    close: false,\n    open: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            close: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.backButton = options;\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.backButton);\n    this.opts.backButton = extend(options, Mmenu.options.backButton);\n    var _menu = '#' + this.node.menu.id;\n    //\tClose menu\n    if (options.close) {\n        var states = [];\n        var setStates = function () {\n            states = [_menu];\n            DOM.children(_this.node.pnls, '.mm-panel_opened, .mm-panel_opened-parent').forEach(function (panel) {\n                states.push('#' + panel.id);\n            });\n        };\n        this.bind('open:finish', function () {\n            history.pushState(null, document.title, _menu);\n        });\n        this.bind('open:finish', setStates);\n        this.bind('openPanel:finish', setStates);\n        this.bind('close:finish', function () {\n            states = [];\n            history.back();\n            history.pushState(null, document.title, location.pathname + location.search);\n        });\n        window.addEventListener('popstate', function (evnt) {\n            if (_this.vars.opened) {\n                if (states.length) {\n                    states = states.slice(0, -1);\n                    var hash = states[states.length - 1];\n                    if (hash == _menu) {\n                        _this.close();\n                    }\n                    else {\n                        _this.openPanel(_this.node.menu.querySelector(hash));\n                        history.pushState(null, document.title, _menu);\n                    }\n                }\n            }\n        });\n    }\n    if (options.open) {\n        window.addEventListener('popstate', function (evnt) {\n            if (!_this.vars.opened && location.hash == _menu) {\n                _this.open();\n            }\n        });\n    }\n}\n","var options = {\n    add: false,\n    visible: {\n        min: 1,\n        max: 3\n    }\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options\n        };\n    }\n    if (typeof options == 'number') {\n        options = {\n            add: true,\n            visible: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (typeof options.visible == 'number') {\n        options.visible = {\n            min: options.visible,\n            max: options.visible\n        };\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.columns = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.columns);\n    this.opts.columns = extend(options, Mmenu.options.columns);\n    //\tAdd the columns\n    if (options.add) {\n        options.visible.min = Math.max(1, Math.min(6, options.visible.min));\n        options.visible.max = Math.max(options.visible.min, Math.min(6, options.visible.max));\n        /** Columns related clasnames for the menu. */\n        var colm = [];\n        /** Columns related clasnames for the panels. */\n        var colp = [];\n        /** Classnames to remove from panels in favor of showing columns. */\n        var rmvc = [\n            'mm-panel_opened',\n            'mm-panel_opened-parent',\n            'mm-panel_highest',\n        ];\n        for (var i = 0; i <= options.visible.max; i++) {\n            colm.push('mm-menu_columns-' + i);\n            colp.push('mm-panel_columns-' + i);\n        }\n        rmvc.push.apply(rmvc, colp);\n        //\tClose all later opened panels\n        this.bind('openPanel:before', function (panel) {\n            /** The parent panel. */\n            var parent;\n            if (panel) {\n                parent = panel['mmParent'];\n            }\n            if (!parent) {\n                return;\n            }\n            if (parent.classList.contains('mm-listitem_vertical')) {\n                return;\n            }\n            parent = parent.closest('.mm-panel');\n            if (!parent) {\n                return;\n            }\n            var classname = parent.className;\n            if (!classname.length) {\n                return;\n            }\n            classname = classname.split('mm-panel_columns-')[1];\n            if (!classname) {\n                return;\n            }\n            var colnr = parseInt(classname.split(' ')[0], 10) + 1;\n            while (colnr > 0) {\n                panel = DOM.children(_this.node.pnls, '.mm-panel_columns-' + colnr)[0];\n                if (panel) {\n                    colnr++;\n                    panel.classList.add('mm-hidden');\n                    //  IE11:\n                    rmvc.forEach(function (classname) {\n                        panel.classList.remove(classname);\n                    });\n                    //  Better browsers:\n                    // panel.classList.remove(...rmvc);\n                }\n                else {\n                    colnr = -1;\n                    break;\n                }\n            }\n        });\n        this.bind('openPanel:start', function (panel) {\n            if (panel) {\n                /** The parent panel. */\n                var parent_1 = panel['mmParent'];\n                if (parent_1 &&\n                    parent_1.classList.contains('mm-listitem_vertical')) {\n                    return;\n                }\n            }\n            var columns = DOM.children(_this.node.pnls, '.mm-panel_opened-parent').length;\n            if (!panel.matches('.mm-panel_opened-parent')) {\n                columns++;\n            }\n            columns = Math.min(options.visible.max, Math.max(options.visible.min, columns));\n            //  IE11:\n            colm.forEach(function (classname) {\n                _this.node.menu.classList.remove(classname);\n            });\n            //  Better browsers:\n            // this.node.menu.classList.remove(...colm);\n            _this.node.menu.classList.add('mm-menu_columns-' + columns);\n            var panels = [];\n            DOM.children(_this.node.pnls, '.mm-panel').forEach(function (panel) {\n                //  IE11:\n                colp.forEach(function (classname) {\n                    panel.classList.remove(classname);\n                });\n                //  Better browsers:\n                // panel.classList.remove(...colp);\n                if (panel.matches('.mm-panel_opened-parent')) {\n                    panels.push(panel);\n                }\n            });\n            panels.push(panel);\n            panels.slice(-options.visible.max).forEach(function (panel, p) {\n                panel.classList.add('mm-panel_columns-' + p);\n            });\n        });\n    }\n}\n","var options = {\n    add: false,\n    addTo: 'panels',\n    count: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options,\n            addTo: 'panels',\n            count: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (options.addTo == 'panels') {\n        options.addTo = '.mm-listview';\n    }\n    return options;\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.counters = options;\n//\tAdd the classnames.\nMmenu.configs.classNames.counters = {\n    counter: 'Counter',\n};\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.counters);\n    this.opts.counters = extend(options, Mmenu.options.counters);\n    //\tRefactor counter class\n    this.bind('initListview:after', function (listview) {\n        var cntrclss = _this.conf.classNames.counters.counter, counters = DOM.find(listview, '.' + cntrclss);\n        counters.forEach(function (counter) {\n            DOM.reClass(counter, cntrclss, 'mm-counter');\n        });\n    });\n    //\tAdd the counters after a listview is initiated.\n    if (options.add) {\n        this.bind('initListview:after', function (listview) {\n            if (!listview.matches(options.addTo)) {\n                return;\n            }\n            var parent = listview.closest('.mm-panel')['mmParent'];\n            if (parent) {\n                //\tCheck if no counter already excists.\n                if (!DOM.find(parent, '.mm-counter').length) {\n                    var btn = DOM.children(parent, '.mm-btn')[0];\n                    if (btn) {\n                        btn.prepend(DOM.create('span.mm-counter'));\n                    }\n                }\n            }\n        });\n    }\n    if (options.count) {\n        var count = function (listview) {\n            var panels = listview\n                ? [listview.closest('.mm-panel')]\n                : DOM.children(_this.node.pnls, '.mm-panel');\n            panels.forEach(function (panel) {\n                var parent = panel['mmParent'];\n                if (!parent) {\n                    return;\n                }\n                var counter = DOM.find(parent, '.mm-counter')[0];\n                if (!counter) {\n                    return;\n                }\n                var listitems = [];\n                DOM.children(panel, '.mm-listview').forEach(function (listview) {\n                    listitems.push.apply(listitems, DOM.children(listview));\n                });\n                counter.innerHTML = DOM.filterLI(listitems).length.toString();\n            });\n        };\n        this.bind('initListview:after', count);\n        this.bind('updateListview', count);\n    }\n}\n","var options = {\n    add: false,\n    addTo: 'panels'\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (options.addTo == 'panels') {\n        options.addTo = '.mm-listview';\n    }\n    return options;\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.dividers = options;\n//  Add the classnames.\nMmenu.configs.classNames.divider = 'Divider';\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.dividers);\n    this.opts.dividers = extend(options, Mmenu.options.dividers);\n    //\tRefactor divider classname\n    this.bind('initListview:after', function (listview) {\n        DOM.children(listview).forEach(function (listitem) {\n            DOM.reClass(listitem, _this.conf.classNames.divider, 'mm-divider');\n            if (listitem.matches('.mm-divider')) {\n                listitem.classList.remove('mm-listitem');\n            }\n        });\n    });\n    //\tAdd dividers\n    if (options.add) {\n        this.bind('initListview:after', function (listview) {\n            if (!listview.matches(options.addTo)) {\n                return;\n            }\n            DOM.find(listview, '.mm-divider').forEach(function (divider) {\n                divider.remove();\n            });\n            var lastletter = '', listitems = DOM.children(listview);\n            DOM.filterLI(listitems).forEach(function (listitem) {\n                var letter = DOM.children(listitem, '.mm-listitem__text')[0]\n                    .textContent.trim()\n                    .toLowerCase()[0];\n                if (letter.length && letter != lastletter) {\n                    lastletter = letter;\n                    var divider = DOM.create('li.mm-divider');\n                    divider.textContent = letter;\n                    listview.insertBefore(divider, listitem);\n                }\n            });\n        });\n    }\n}\n","var options = {\n    open: false,\n    node: null\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            open: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n","/** Whether or not touch gestures are supported by the browser. */\nexport var touch = 'ontouchstart' in window ||\n    (navigator.msMaxTouchPoints ? true : false) ||\n    false;\n","/** How far from the sides the gesture can start. */\nexport var area = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n};\n/** Tresholds for gestures. */\nexport var treshold = {\n    start: 15,\n    swipe: 15\n};\n","/** Names of the possible directions. */\nexport var directionNames = {\n    x: ['Right', 'Left'],\n    y: ['Down', 'Up']\n};\n/** States for the gesture. */\nexport var state = {\n    inactive: 0,\n    watching: 1,\n    dragging: 2\n};\n","/**\n * Calculate a distance from a percentage.\n * @param  {string|number}   position   The percentage (e.g. \"75%\").\n * @param  {number}          size       The available width or height in pixels.\n * @return {number}                     The calculated distance.\n */\nexport var percentage2number = function (position, size) {\n    if (typeof position == 'string') {\n        if (position.slice(-1) == '%') {\n            position = parseInt(position.slice(0, -1), 10);\n            position = size * (position / 100);\n        }\n    }\n    return position;\n};\n","import * as support from './_support';\nimport * as options from './_defaults';\nimport * as settings from './_settings';\nimport { percentage2number } from './_helpers';\nimport { extend } from '../helpers';\nvar DragEvents = /** @class */ (function () {\n    /**\n     * Create the gestures.\n     * @param {HTMLElement} surface     The surface for the gesture.\n     * @param {object}      area        Restriction where on the surface the gesture can be started.\n     * @param {object}      treshold    Treshold for the gestures.\n     */\n    function DragEvents(surface, area, treshold) {\n        this.surface = surface;\n        this.area = extend(area, options.area);\n        this.treshold = extend(treshold, options.treshold);\n        //\tSet the mouse/touch events.\n        if (!this.surface['mmHasDragEvents']) {\n            this.surface.addEventListener(support.touch ? 'touchstart' : 'mousedown', this.start.bind(this));\n            this.surface.addEventListener(support.touch ? 'touchend' : 'mouseup', this.stop.bind(this));\n            this.surface.addEventListener(support.touch ? 'touchleave' : 'mouseleave', this.stop.bind(this));\n            this.surface.addEventListener(support.touch ? 'touchmove' : 'mousemove', this.move.bind(this));\n        }\n        this.surface['mmHasDragEvents'] = true;\n    }\n    /**\n     * Starting the touch gesture.\n     * @param {Event} event The touch event.\n     */\n    DragEvents.prototype.start = function (event) {\n        this.currentPosition = {\n            x: event.touches ? event.touches[0].pageX : event.pageX || 0,\n            y: event.touches ? event.touches[0].pageY : event.pageY || 0\n        };\n        /** The widht of the surface. */\n        var width = this.surface.clientWidth;\n        /** The height of the surface. */\n        var height = this.surface.clientHeight;\n        //  Check if the gesture started below the area.top.\n        var top = percentage2number(this.area.top, height);\n        if (typeof top == 'number') {\n            if (this.currentPosition.y < top) {\n                return;\n            }\n        }\n        //  Check if the gesture started before the area.right.\n        var right = percentage2number(this.area.right, width);\n        if (typeof right == 'number') {\n            right = width - right;\n            if (this.currentPosition.x > right) {\n                return;\n            }\n        }\n        //  Check if the gesture started above the area.bottom.\n        var bottom = percentage2number(this.area.bottom, height);\n        if (typeof bottom == 'number') {\n            bottom = height - bottom;\n            if (this.currentPosition.y > bottom) {\n                return;\n            }\n        }\n        //  Check if the gesture started after the area.left.\n        var left = percentage2number(this.area.left, width);\n        if (typeof left == 'number') {\n            if (this.currentPosition.x < left) {\n                return;\n            }\n        }\n        //\tStore the start x- and y-position.\n        this.startPosition = {\n            x: this.currentPosition.x,\n            y: this.currentPosition.y\n        };\n        //\tSet the state of the gesture to \"watching\".\n        this.state = settings.state.watching;\n    };\n    /**\n     * Stopping the touch gesture.\n     * @param {Event} event The touch event.\n     */\n    DragEvents.prototype.stop = function (event) {\n        //\tDispatch the \"dragEnd\" events.\n        if (this.state == settings.state.dragging) {\n            /** The direction. */\n            var dragDirection = this._dragDirection();\n            /** The event information. */\n            var detail = this._eventDetail(dragDirection);\n            this._dispatchEvents('drag*End', detail);\n            //\tDispatch the \"swipe\" events.\n            if (Math.abs(this.movement[this.axis]) > this.treshold.swipe) {\n                /** The direction. */\n                var swipeDirection = this._swipeDirection();\n                detail.direction = swipeDirection;\n                this._dispatchEvents('swipe*', detail);\n            }\n        }\n        //\tSet the state of the gesture to \"inactive\".\n        this.state = settings.state.inactive;\n    };\n    /**\n     * Doing the touch gesture.\n     * @param {Event} event The touch event.\n     */\n    DragEvents.prototype.move = function (event) {\n        switch (this.state) {\n            case settings.state.watching:\n            case settings.state.dragging:\n                var position = {\n                    x: event.changedTouches\n                        ? event.touches[0].pageX\n                        : event.pageX || 0,\n                    y: event.changedTouches\n                        ? event.touches[0].pageY\n                        : event.pageY || 0\n                };\n                this.movement = {\n                    x: position.x - this.currentPosition.x,\n                    y: position.y - this.currentPosition.y\n                };\n                this.distance = {\n                    x: position.x - this.startPosition.x,\n                    y: position.y - this.startPosition.y\n                };\n                this.currentPosition = {\n                    x: position.x,\n                    y: position.y\n                };\n                this.axis =\n                    Math.abs(this.distance.x) > Math.abs(this.distance.y)\n                        ? 'x'\n                        : 'y';\n                /** The direction. */\n                var dragDirection = this._dragDirection();\n                /** The event information. */\n                var detail = this._eventDetail(dragDirection);\n                //\tWatching for the gesture to go past the treshold.\n                if (this.state == settings.state.watching) {\n                    if (Math.abs(this.distance[this.axis]) > this.treshold.start) {\n                        this._dispatchEvents('drag*Start', detail);\n                        //\tSet the state of the gesture to \"inactive\".\n                        this.state = settings.state.dragging;\n                    }\n                }\n                //\tDispatch the \"drag\" events.\n                if (this.state == settings.state.dragging) {\n                    this._dispatchEvents('drag*Move', detail);\n                }\n                break;\n        }\n    };\n    /**\n     * Get the event details.\n     * @param {string}  direction   Direction for the event (up, right, down, left).\n     * @return {object}             The event details.\n     */\n    DragEvents.prototype._eventDetail = function (direction) {\n        var distX = this.distance.x;\n        var distY = this.distance.y;\n        if (this.axis == 'x') {\n            distX -= distX > 0 ? this.treshold.start : 0 - this.treshold.start;\n        }\n        if (this.axis == 'y') {\n            distY -= distY > 0 ? this.treshold.start : 0 - this.treshold.start;\n        }\n        return {\n            axis: this.axis,\n            direction: direction,\n            movementX: this.movement.x,\n            movementY: this.movement.y,\n            distanceX: distX,\n            distanceY: distY\n        };\n    };\n    /**\n     * Dispatch the events\n     * @param {string} eventName    The name for the events to dispatch.\n     * @param {object} detail       The event details.\n     */\n    DragEvents.prototype._dispatchEvents = function (eventName, detail) {\n        /** General event, e.g. \"drag\" */\n        var event = new CustomEvent(eventName.replace('*', ''), { detail: detail });\n        this.surface.dispatchEvent(event);\n        /** Axis event, e.g. \"dragX\" */\n        var axis = new CustomEvent(eventName.replace('*', this.axis.toUpperCase()), { detail: detail });\n        this.surface.dispatchEvent(axis);\n        /** Direction event, e.g. \"dragLeft\" */\n        var direction = new CustomEvent(eventName.replace('*', detail.direction), {\n            detail: detail\n        });\n        this.surface.dispatchEvent(direction);\n    };\n    /**\n     * Get the dragging direction.\n     * @return {string} The direction in which the user is dragging.\n     */\n    DragEvents.prototype._dragDirection = function () {\n        return settings.directionNames[this.axis][this.distance[this.axis] > 0 ? 0 : 1];\n    };\n    /**\n     * Get the dragging direction.\n     * @return {string} The direction in which the user is dragging.\n     */\n    DragEvents.prototype._swipeDirection = function () {\n        return settings.directionNames[this.axis][this.movement[this.axis] > 0 ? 0 : 1];\n    };\n    return DragEvents;\n}());\nexport default DragEvents;\n","import DragEvents from '../../_modules/dragevents/index';\nimport * as DOM from '../../_modules/dom';\nimport * as events from '../../_modules/eventlisteners';\nimport * as media from '../../_modules/matchmedia';\n/** Instance of the DragEvents class. */\nvar dragInstance = null;\n/** THe node that can be dragged. */\nvar dragNode = null;\n/** How far the page (or menu) can be dragged. */\nvar maxDistance = 0;\nexport default function (page) {\n    var _this = this;\n    /** Variables that vary for each menu position (top, right, bottom, left. front, back). */\n    var vars = {};\n    /** Whether or not the page or menu is actually being moved. */\n    var moving = false;\n    /**\n     * Add the dragging events.\n     */\n    var addEvents = function () {\n        if (dragNode) {\n            //  Prepare the page or menu to be moved.\n            events.on(dragNode, 'dragStart', function (evnt) {\n                if (evnt['detail'].direction == vars.direction) {\n                    moving = true;\n                    //  Class prevents interaction with the page.\n                    _this.node.wrpr.classList.add('mm-wrapper_dragging');\n                    //  Prepare the menu to be opened.\n                    _this._openSetup();\n                    _this.trigger('open:start');\n                    //  Get the maximum distance to move out the page or menu.\n                    maxDistance = _this.node.menu[vars.axis == 'x' ? 'clientWidth' : 'clientHeight'];\n                }\n            });\n            //  Move the page or menu when dragging.\n            events.on(dragNode, 'dragMove', function (evnt) {\n                if (evnt['detail'].axis == vars.axis) {\n                    if (moving) {\n                        var distance = evnt['detail']['distance' + vars.axis.toUpperCase()];\n                        switch (vars.position) {\n                            case 'right':\n                            case 'bottom':\n                                distance = Math.min(Math.max(distance, -maxDistance), 0);\n                                break;\n                            default:\n                                distance = Math.max(Math.min(distance, maxDistance), 0);\n                        }\n                        //  Deviate for position front (the menu starts out of view).\n                        if (vars.zposition == 'front') {\n                            switch (vars.position) {\n                                case 'right':\n                                case 'bottom':\n                                    distance += maxDistance;\n                                    break;\n                                default:\n                                    distance -= maxDistance;\n                                    break;\n                            }\n                        }\n                        vars.slideOutNodes.forEach(function (node) {\n                            node.style['transform'] =\n                                'translate' +\n                                    vars.axis.toUpperCase() +\n                                    '(' +\n                                    distance +\n                                    'px)';\n                        });\n                    }\n                }\n            });\n            //  Stop the page or menu from being moved.\n            events.on(dragNode, 'dragEnd', function (evnt) {\n                if (evnt['detail'].axis == vars.axis) {\n                    if (moving) {\n                        moving = false;\n                        _this.node.wrpr.classList.remove('mm-wrapper_dragging');\n                        vars.slideOutNodes.forEach(function (node) {\n                            node.style['transform'] = '';\n                        });\n                        //  Determine if the menu should open or close.\n                        var open_1 = Math.abs(evnt['detail']['distance' + vars.axis.toUpperCase()]) >=\n                            maxDistance * 0.75;\n                        if (!open_1) {\n                            var movement = evnt['detail']['movement' + vars.axis.toUpperCase()];\n                            switch (vars.position) {\n                                case 'right':\n                                case 'bottom':\n                                    open_1 = movement <= 0;\n                                    break;\n                                default:\n                                    open_1 = movement >= 0;\n                                    break;\n                            }\n                        }\n                        if (open_1) {\n                            _this._openStart();\n                        }\n                        else {\n                            _this.close();\n                        }\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * Remove the dragging events.\n     */\n    var removeEvents = function () {\n        if (dragNode) {\n            events.off(dragNode, 'dragStart');\n            events.off(dragNode, 'dragMove');\n            events.off(dragNode, 'dragEnd');\n        }\n    };\n    var addMatchMedia = function () {\n        var queries = Object.keys(_this.opts.extensions);\n        if (queries.length) {\n            //  A media query that'll match if any of the other media query matches:\n            //    set the defaults if it doesn't match.\n            media.add(queries.join(', '), function () { }, function () {\n                vars = getPositionVars(vars, [], _this.node.menu);\n            });\n            //  The other media queries.\n            queries.forEach(function (query) {\n                media.add(query, function () {\n                    vars = getPositionVars(vars, _this.opts.extensions[query], _this.node.menu);\n                }, function () { });\n            });\n            //  No extensions, just use the defaults.\n        }\n        else {\n            vars = getPositionVars(vars, [], _this.node.menu);\n        }\n    };\n    //  Remove events from previous \"page\"\n    removeEvents();\n    //  Store new \"page\"\n    dragNode = page;\n    //  Initialize the drag events.\n    dragInstance = new DragEvents(dragNode);\n    addMatchMedia();\n    addMatchMedia = function () { };\n    addEvents();\n}\nvar getPositionVars = function (vars, extensions, menu) {\n    //  Default position and z-position.\n    vars.position = 'left';\n    vars.zposition = 'back';\n    //  Find position.\n    ['right', 'top', 'bottom'].forEach(function (pos) {\n        if (extensions.indexOf('position-' + pos) > -1) {\n            vars.position = pos;\n        }\n    });\n    //  Find z-position.\n    ['front', 'top', 'bottom'].forEach(function (pos) {\n        if (extensions.indexOf('position-' + pos) > -1) {\n            vars.zposition = 'front';\n        }\n    });\n    //  Set the area where the dragging can start.\n    dragInstance.area = {\n        top: vars.position == 'bottom' ? '75%' : 0,\n        right: vars.position == 'left' ? '75%' : 0,\n        bottom: vars.position == 'top' ? '75%' : 0,\n        left: vars.position == 'right' ? '75%' : 0\n    };\n    //  What side of the menu to measure (width or height).\n    //  What axis to drag the menu along (x or y).\n    switch (vars.position) {\n        case 'top':\n        case 'bottom':\n            vars.axis = 'y';\n            break;\n        default:\n            vars.axis = 'x';\n    }\n    //  What direction to drag in.\n    switch (vars.position) {\n        case 'top':\n            vars.direction = 'Down';\n            break;\n        case 'right':\n            vars.direction = 'Left';\n            break;\n        case 'bottom':\n            vars.direction = 'Up';\n            break;\n        default:\n            vars.direction = 'Right';\n    }\n    //  What nodes to slide out while dragging.\n    switch (vars.zposition) {\n        case 'front':\n            vars.slideOutNodes = [menu];\n            break;\n        default:\n            vars.slideOutNodes = DOM.find(document.body, '.mm-slideout');\n    }\n    return vars;\n};\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport dragOpen from './_drag.open';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options and configs.\nMmenu.options.drag = options;\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.drag);\n    this.opts.drag = extend(options, Mmenu.options.drag);\n    //\tDrag open the menu\n    if (options.open) {\n        this.bind('setPage:after', function (page) {\n            dragOpen.call(_this, options.node || page);\n        });\n    }\n}\n","var options = {\n    drop: false,\n    fitViewport: true,\n    event: 'click',\n    position: {},\n    tip: true\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean' && options) {\n        options = {\n            drop: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (typeof options.position == 'string') {\n        options.position = {\n            of: options.position\n        };\n    }\n    return options;\n}\n;\n","var configs = {\n    offset: {\n        button: {\n            x: -5,\n            y: 5\n        },\n        viewport: {\n            x: 20,\n            y: 20\n        }\n    },\n    height: {\n        max: 880\n    },\n    width: {\n        max: 440\n    }\n};\nexport default configs;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend, originalId } from '../../_modules/helpers';\n//\tAdd the options and configs.\nMmenu.options.dropdown = options;\nMmenu.configs.dropdown = configs;\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.dropdown);\n    this.opts.dropdown = extend(options, Mmenu.options.dropdown);\n    var configs = this.conf.dropdown;\n    if (!options.drop) {\n        return;\n    }\n    var button;\n    this.bind('initMenu:after', function () {\n        _this.node.menu.classList.add('mm-menu_dropdown');\n        if (typeof options.position.of != 'string') {\n            var id = originalId(_this.node.menu.id);\n            if (id) {\n                options.position.of = '[href=\"#' + id + '\"]';\n            }\n        }\n        if (typeof options.position.of != 'string') {\n            return;\n        }\n        //\tGet the button to put the menu next to\n        button = DOM.find(document.body, options.position.of)[0];\n        //\tEmulate hover effect\n        var events = options.event.split(' ');\n        if (events.length == 1) {\n            events[1] = events[0];\n        }\n        if (events[0] == 'hover') {\n            button.addEventListener('mouseenter', function () {\n                _this.open();\n            }, { passive: true });\n        }\n        if (events[1] == 'hover') {\n            _this.node.menu.addEventListener('mouseleave', function () {\n                _this.close();\n            }, { passive: true });\n        }\n    });\n    //\tAdd/remove classname and style when opening/closing the menu\n    this.bind('open:start', function () {\n        _this.node.menu['mmStyle'] = _this.node.menu.getAttribute('style');\n        _this.node.wrpr.classList.add('mm-wrapper_dropdown');\n    });\n    this.bind('close:finish', function () {\n        _this.node.menu.setAttribute('style', _this.node.menu['mmStyle']);\n        _this.node.wrpr.classList.remove('mm-wrapper_dropdown');\n    });\n    /**\n     * Find the position (x, y) and sizes (width, height) for the menu.\n     *\n     * @param  {string} dir The direction to measure (\"x\" for horizontal, \"y\" for vertical)\n     * @param  {object} obj The object where (previously) measured values are stored.\n     * @return {object}\t\tThe object where measered values are stored.\n     */\n    var getPosition = function (dir, obj) {\n        var css = obj[0], cls = obj[1];\n        var _outerSize = dir == 'x' ? 'offsetWidth' : 'offsetHeight', _startPos = dir == 'x' ? 'left' : 'top', _stopPos = dir == 'x' ? 'right' : 'bottom', _size = dir == 'x' ? 'width' : 'height', _winSize = dir == 'x' ? 'innerWidth' : 'innerHeight', _maxSize = dir == 'x' ? 'maxWidth' : 'maxHeight', _position = null;\n        var startPos = DOM.offset(button, _startPos), stopPos = startPos + button[_outerSize], windowSize = window[_winSize];\n        /** Offset for the menu relative to the button. */\n        var offs = configs.offset.button[dir] + configs.offset.viewport[dir];\n        //\tPosition set in option\n        if (options.position[dir]) {\n            switch (options.position[dir]) {\n                case 'left':\n                case 'bottom':\n                    _position = 'after';\n                    break;\n                case 'right':\n                case 'top':\n                    _position = 'before';\n                    break;\n            }\n        }\n        //\tPosition not set in option, find most space\n        if (_position === null) {\n            _position =\n                startPos + (stopPos - startPos) / 2 < windowSize / 2\n                    ? 'after'\n                    : 'before';\n        }\n        //\tSet position and max\n        var val, max;\n        if (_position == 'after') {\n            val = dir == 'x' ? startPos : stopPos;\n            max = windowSize - (val + offs);\n            css[_startPos] = val + configs.offset.button[dir] + 'px';\n            css[_stopPos] = 'auto';\n            if (options.tip) {\n                cls.push('mm-menu_tip-' + (dir == 'x' ? 'left' : 'top'));\n            }\n        }\n        else {\n            val = dir == 'x' ? stopPos : startPos;\n            max = val - offs;\n            css[_stopPos] =\n                'calc( 100% - ' + (val - configs.offset.button[dir]) + 'px )';\n            css[_startPos] = 'auto';\n            if (options.tip) {\n                cls.push('mm-menu_tip-' + (dir == 'x' ? 'right' : 'bottom'));\n            }\n        }\n        if (options.fitViewport) {\n            css[_maxSize] = Math.min(configs[_size].max, max) + 'px';\n        }\n        return [css, cls];\n    };\n    function position() {\n        var _this = this;\n        if (!this.vars.opened) {\n            return;\n        }\n        this.node.menu.setAttribute('style', this.node.menu['mmStyle']);\n        var obj = [{}, []];\n        obj = getPosition.call(this, 'y', obj);\n        obj = getPosition.call(this, 'x', obj);\n        for (var s in obj[0]) {\n            this.node.menu.style[s] = obj[0][s];\n        }\n        if (options.tip) {\n            var classnames = [\n                'mm-menu_tip-left',\n                'mm-menu_tip-right',\n                'mm-menu_tip-top',\n                'mm-menu_tip-bottom'\n            ];\n            //  IE11:\n            classnames.forEach(function (classname) {\n                _this.node.menu.classList.remove(classname);\n            });\n            obj[1].forEach(function (classname) {\n                _this.node.menu.classList.add(classname);\n            });\n            //  Better browsers:\n            // this.node.menu.classList.remove(...classnames);\n            // this.node.menu.classList.add(...obj[1]);\n        }\n    }\n    this.bind('open:start', position);\n    window.addEventListener('resize', function (evnt) {\n        position.call(_this);\n    }, { passive: true });\n    if (!this.opts.offCanvas.blockUI) {\n        window.addEventListener('scroll', function (evnt) {\n            position.call(_this);\n        }, { passive: true });\n    }\n}\n","var configs = {\n    insertMethod: 'append',\n    insertSelector: 'body'\n};\nexport default configs;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport configs from './_configs';\nimport * as DOM from '../../_modules/dom';\n//\tAdd the configs.\nMmenu.configs.fixedElements = configs;\n//\tAdd the classnames.\nMmenu.configs.classNames.fixedElements = {\n    fixed: 'Fixed'\n};\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var configs = this.conf.fixedElements;\n    var _fixd, fixed, wrppr;\n    this.bind('setPage:after', function (page) {\n        _fixd = _this.conf.classNames.fixedElements.fixed;\n        wrppr = DOM.find(document, configs.insertSelector)[0];\n        fixed = DOM.find(page, '.' + _fixd);\n        fixed.forEach(function (fxd) {\n            DOM.reClass(fxd, _fixd, 'mm-slideout');\n            wrppr[configs.insertMethod](fxd);\n        });\n    });\n}\n","import { type } from '../../_modules/helpers';\nvar options = {\n    use: false,\n    top: [],\n    bottom: [],\n    position: 'left',\n    type: 'default'\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (type(options) == 'array') {\n        options = {\n            use: true,\n            top: options\n        };\n    }\n    if (type(options) != 'object') {\n        options = {};\n    }\n    if (typeof options.use == 'undefined') {\n        options.use = true;\n    }\n    if (typeof options.use == 'boolean' && options.use) {\n        options.use = true;\n    }\n    return options;\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as media from '../../_modules/matchmedia';\nimport { type, extend } from '../../_modules/helpers';\n//  Add the options.\nMmenu.options.iconbar = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.iconbar);\n    this.opts.iconbar = extend(options, Mmenu.options.iconbar);\n    if (!options.use) {\n        return;\n    }\n    var iconbar;\n    ['top', 'bottom'].forEach(function (position, n) {\n        var ctnt = options[position];\n        //\tExtend shorthand options\n        if (type(ctnt) != 'array') {\n            ctnt = [ctnt];\n        }\n        //\tCreate node\n        var part = DOM.create('div.mm-iconbar__' + position);\n        //\tAdd content\n        for (var c = 0, l = ctnt.length; c < l; c++) {\n            if (typeof ctnt[c] == 'string') {\n                part.innerHTML += ctnt[c];\n            }\n            else {\n                part.append(ctnt[c]);\n            }\n        }\n        if (part.children.length) {\n            if (!iconbar) {\n                iconbar = DOM.create('div.mm-iconbar');\n            }\n            iconbar.append(part);\n        }\n    });\n    //\tAdd to menu\n    if (iconbar) {\n        //\tAdd the iconbar.\n        this.bind('initMenu:after', function () {\n            _this.node.menu.prepend(iconbar);\n        });\n        //\tEn-/disable the iconbar.\n        var classname_1 = 'mm-menu_iconbar-' + options.position;\n        var enable = function () {\n            _this.node.menu.classList.add(classname_1);\n            Mmenu.sr_aria(iconbar, 'hidden', false);\n        };\n        var disable = function () {\n            _this.node.menu.classList.remove(classname_1);\n            Mmenu.sr_aria(iconbar, 'hidden', true);\n        };\n        if (typeof options.use == 'boolean') {\n            this.bind('initMenu:after', enable);\n        }\n        else {\n            media.add(options.use, enable, disable);\n        }\n        //\tTabs\n        if (options.type == 'tabs') {\n            iconbar.classList.add('mm-iconbar_tabs');\n            iconbar.addEventListener('click', function (evnt) {\n                var anchor = evnt.target;\n                if (!anchor.matches('a')) {\n                    return;\n                }\n                if (anchor.matches('.mm-iconbar__tab_selected')) {\n                    evnt.stopImmediatePropagation();\n                    return;\n                }\n                try {\n                    var panel = _this.node.menu.querySelector(anchor.getAttribute('href'))[0];\n                    if (panel && panel.matches('.mm-panel')) {\n                        evnt.preventDefault();\n                        evnt.stopImmediatePropagation();\n                        _this.openPanel(panel, false);\n                    }\n                }\n                catch (err) { }\n            });\n            var selectTab_1 = function (panel) {\n                DOM.find(iconbar, 'a').forEach(function (anchor) {\n                    anchor.classList.remove('mm-iconbar__tab_selected');\n                });\n                var anchor = DOM.find(iconbar, '[href=\"#' + panel.id + '\"]')[0];\n                if (anchor) {\n                    anchor.classList.add('mm-iconbar__tab_selected');\n                }\n                else {\n                    var parent_1 = panel['mmParent'];\n                    if (parent_1) {\n                        selectTab_1(parent_1.closest('.mm-panel'));\n                    }\n                }\n            };\n            this.bind('openPanel:start', selectTab_1);\n        }\n    }\n}\n","var options = {\n    add: false,\n    blockPanel: true,\n    hideDivider: false,\n    hideNavbar: true,\n    visible: 3\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options\n        };\n    }\n    if (typeof options == 'number' ||\n        typeof options == 'string') {\n        options = {\n            add: true,\n            visible: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.iconPanels = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.iconPanels);\n    this.opts.iconPanels = extend(options, Mmenu.options.iconPanels);\n    var keepFirst = false;\n    if (options.visible == 'first') {\n        keepFirst = true;\n        options.visible = 1;\n    }\n    options.visible = Math.min(3, Math.max(1, options.visible));\n    options.visible++;\n    //\tAdd the iconpanels\n    if (options.add) {\n        this.bind('initMenu:after', function () {\n            var classnames = ['mm-menu_iconpanel'];\n            if (options.hideNavbar) {\n                classnames.push('mm-menu_hidenavbar');\n            }\n            if (options.hideDivider) {\n                classnames.push('mm-menu_hidedivider');\n            }\n            //  IE11:\n            classnames.forEach(function (classname) {\n                _this.node.menu.classList.add(classname);\n            });\n            //  Better browsers:\n            // this.node.menu.classList.add(...classnames);\n        });\n        var classnames_1 = [];\n        if (!keepFirst) {\n            for (var i = 0; i <= options.visible; i++) {\n                classnames_1.push('mm-panel_iconpanel-' + i);\n            }\n        }\n        this.bind('openPanel:start', function (panel) {\n            var panels = DOM.children(_this.node.pnls, '.mm-panel');\n            panel = panel || panels[0];\n            if (panel.parentElement.matches('.mm-listitem_vertical')) {\n                return;\n            }\n            if (keepFirst) {\n                panels.forEach(function (panel, p) {\n                    panel.classList[p == 0 ? 'add' : 'remove']('mm-panel_iconpanel-first');\n                });\n            }\n            else {\n                //\tRemove the \"iconpanel\" classnames from all panels.\n                panels.forEach(function (panel) {\n                    //  IE11:\n                    classnames_1.forEach(function (classname) {\n                        panel.classList.remove(classname);\n                    });\n                    //  Better browsers:\n                    // panel.classList.remove(...classnames);\n                });\n                //\tFilter out panels that are not opened.\n                panels = panels.filter(function (panel) {\n                    return panel.matches('.mm-panel_opened-parent');\n                });\n                //\tAdd the current panel to the list.\n                var panelAdded_1 = false;\n                panels.forEach(function (elem) {\n                    if (panel === elem) {\n                        panelAdded_1 = true;\n                    }\n                });\n                if (!panelAdded_1) {\n                    panels.push(panel);\n                }\n                //\tRemove the \"hidden\" classname from all opened panels.\n                panels.forEach(function (panel) {\n                    panel.classList.remove('mm-hidden');\n                });\n                //\tSlice the opened panels to the max visible amount.\n                panels = panels.slice(-options.visible);\n                //\tAdd the \"iconpanel\" classnames.\n                panels.forEach(function (panel, p) {\n                    panel.classList.add('mm-panel_iconpanel-' + p);\n                });\n            }\n        });\n        this.bind('initPanel:after', function (panel) {\n            if (options.blockPanel &&\n                !panel.parentElement.matches('.mm-listitem_vertical') &&\n                !DOM.children(panel, '.mm-panel__blocker')[0]) {\n                var blocker = DOM.create('a.mm-panel__blocker');\n                blocker.setAttribute('href', '#' + panel.closest('.mm-panel').id);\n                panel.prepend(blocker);\n            }\n        });\n    }\n}\n","var options = {\n    enable: false,\n    enhance: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean' || typeof options == 'string') {\n        options = {\n            enable: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as events from '../../_modules/eventlisteners';\nimport * as support from '../../_modules/support';\nimport { extend } from '../../_modules/helpers';\n//  Add the options.\nMmenu.options.keyboardNavigation = options;\nexport default function () {\n    var _this = this;\n    //\tKeyboard navigation on touchscreens opens the virtual keyboard :/\n    //\tLets prevent that.\n    if (support.touch) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.keyboardNavigation);\n    this.opts.keyboardNavigation = extend(options, Mmenu.options.keyboardNavigation);\n    //\tEnable keyboard navigation\n    if (options.enable) {\n        var menuStart_1 = DOM.create('button.mm-tabstart.mm-sronly'), menuEnd_1 = DOM.create('button.mm-tabend.mm-sronly'), blockerEnd_1 = DOM.create('button.mm-tabend.mm-sronly');\n        this.bind('initMenu:after', function () {\n            if (options.enhance) {\n                _this.node.menu.classList.add('mm-menu_keyboardfocus');\n            }\n            initWindow.call(_this, options.enhance);\n        });\n        this.bind('initOpened:before', function () {\n            _this.node.menu.prepend(menuStart_1);\n            _this.node.menu.append(menuEnd_1);\n            DOM.children(_this.node.menu, '.mm-navbars-top, .mm-navbars-bottom').forEach(function (navbars) {\n                navbars.querySelectorAll('.mm-navbar__title').forEach(function (title) {\n                    title.setAttribute('tabindex', '-1');\n                });\n            });\n        });\n        this.bind('initBlocker:after', function () {\n            Mmenu.node.blck.append(blockerEnd_1);\n            DOM.children(Mmenu.node.blck, 'a')[0].classList.add('mm-tabstart');\n        });\n        var focusable_1 = 'input, select, textarea, button, label, a[href]';\n        var setFocus = function (panel) {\n            panel =\n                panel || DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n            var focus = null;\n            //\tFocus already is on an element in a navbar in this menu.\n            var navbar = document.activeElement.closest('.mm-navbar');\n            if (navbar) {\n                if (navbar.closest('.mm-menu') == _this.node.menu) {\n                    return;\n                }\n            }\n            //\tSet the focus to the first focusable element by default.\n            if (options.enable == 'default') {\n                //\tFirst visible anchor in a listview in the current panel.\n                focus = DOM.find(panel, '.mm-listview a[href]:not(.mm-hidden)')[0];\n                //\tFirst focusable and visible element in the current panel.\n                if (!focus) {\n                    focus = DOM.find(panel, focusable_1 + ':not(.mm-hidden)')[0];\n                }\n                //\tFirst focusable and visible element in a navbar.\n                if (!focus) {\n                    var elements_1 = [];\n                    DOM.children(_this.node.menu, '.mm-navbars_top, .mm-navbars_bottom').forEach(function (navbar) {\n                        elements_1.push.apply(elements_1, DOM.find(navbar, focusable_1 + ':not(.mm-hidden)'));\n                    });\n                    focus = elements_1[0];\n                }\n            }\n            //\tDefault.\n            if (!focus) {\n                focus = DOM.children(_this.node.menu, '.mm-tabstart')[0];\n            }\n            if (focus) {\n                focus.focus();\n            }\n        };\n        this.bind('open:finish', setFocus);\n        this.bind('openPanel:finish', setFocus);\n        //\tAdd screenreader / aria support.\n        this.bind('initOpened:after:sr-aria', function () {\n            [_this.node.menu, Mmenu.node.blck].forEach(function (element) {\n                DOM.children(element, '.mm-tabstart, .mm-tabend').forEach(function (tabber) {\n                    Mmenu.sr_aria(tabber, 'hidden', true);\n                    Mmenu.sr_role(tabber, 'presentation');\n                });\n            });\n        });\n    }\n}\n/**\n * Initialize the window for keyboard navigation.\n * @param {boolean} enhance - Whether or not to also rich enhance the keyboard behavior.\n **/\nvar initWindow = function (enhance) {\n    var _this = this;\n    //\tRe-enable tabbing in general\n    events.off(document.body, 'keydown.tabguard');\n    //\tIntersept the target when tabbing.\n    events.off(document.body, 'focusin.tabguard');\n    events.on(document.body, 'focusin.tabguard', function (evnt) {\n        if (_this.node.wrpr.matches('.mm-wrapper_opened')) {\n            var target = evnt.target;\n            if (target.matches('.mm-tabend')) {\n                var next = void 0;\n                //\tJump from menu to blocker.\n                if (target.parentElement.matches('.mm-menu')) {\n                    if (Mmenu.node.blck) {\n                        next = Mmenu.node.blck;\n                    }\n                }\n                //\tJump to opened menu.\n                if (target.parentElement.matches('.mm-wrapper__blocker')) {\n                    next = DOM.find(document.body, '.mm-menu_offcanvas.mm-menu_opened')[0];\n                }\n                //\tIf no available element found, stay in current element.\n                if (!next) {\n                    next = target.parentElement;\n                }\n                if (next) {\n                    DOM.children(next, '.mm-tabstart')[0].focus();\n                }\n            }\n        }\n    });\n    //\tAdd Additional keyboard behavior.\n    events.off(document.body, 'keydown.navigate');\n    events.on(document.body, 'keydown.navigate', function (evnt) {\n        var target = evnt.target;\n        var menu = target.closest('.mm-menu');\n        if (menu) {\n            var api = menu['mmApi'];\n            if (!target.matches('input, textarea')) {\n                switch (evnt.keyCode) {\n                    //\tpress enter to toggle and check\n                    case 13:\n                        if (target.matches('.mm-toggle') ||\n                            target.matches('.mm-check')) {\n                            target.dispatchEvent(new Event('click'));\n                        }\n                        break;\n                    //\tprevent spacebar or arrows from scrolling the page\n                    case 32: //\tspace\n                    case 37: //\tleft\n                    case 38: //\ttop\n                    case 39: //\tright\n                    case 40: //\tbottom\n                        evnt.preventDefault();\n                        break;\n                }\n            }\n            if (enhance) {\n                //\tspecial case for input\n                if (target.matches('input')) {\n                    switch (evnt.keyCode) {\n                        //\tempty searchfield with esc\n                        case 27:\n                            target.value = '';\n                            break;\n                    }\n                }\n                else {\n                    var api_1 = menu['mmApi'];\n                    switch (evnt.keyCode) {\n                        //\tclose submenu with backspace\n                        case 8:\n                            var parent_1 = DOM.find(menu, '.mm-panel_opened')[0]['mmParent'];\n                            if (parent_1) {\n                                api_1.openPanel(parent_1.closest('.mm-panel'));\n                            }\n                            break;\n                        //\tclose menu with esc\n                        case 27:\n                            if (menu.matches('.mm-menu_offcanvas')) {\n                                api_1.close();\n                            }\n                            break;\n                    }\n                }\n            }\n        }\n    });\n};\n","var options = {\n    load: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            load: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.lazySubmenus = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.lazySubmenus);\n    this.opts.lazySubmenus = extend(options, Mmenu.options.lazySubmenus);\n    if (options.load) {\n        //\tPrevent all sub panels from being initialized.\n        this.bind('initPanels:before', function () {\n            var panels = [];\n            //\tFind all potential subpanels.\n            DOM.find(_this.node.pnls, 'li').forEach(function (listitem) {\n                panels.push.apply(panels, DOM.children(listitem, _this.conf.panelNodetype.join(', ')));\n            });\n            //\tFilter out all non-panels and add the lazyload classes\n            panels\n                .filter(function (panel) { return !panel.matches('.mm-listview_inset'); })\n                .filter(function (panel) { return !panel.matches('.mm-nolistview'); })\n                .filter(function (panel) { return !panel.matches('.mm-nopanel'); })\n                .forEach(function (panel) {\n                var classnames = [\n                    'mm-panel_lazysubmenu',\n                    'mm-nolistview',\n                    'mm-nopanel',\n                ];\n                //  IE11:\n                classnames.forEach(function (classname) {\n                    panel.classList.add(classname);\n                });\n                //  Better browsers:\n                // panel.classList.add(...classnames);\n            });\n        });\n        //\tre-enable the default opened panel to be initialized.\n        this.bind('initPanels:before', function () {\n            var panels = [];\n            DOM.find(_this.node.pnls, '.' + _this.conf.classNames.selected).forEach(function (listitem) {\n                panels.push.apply(panels, DOM.parents(listitem, '.mm-panel_lazysubmenu'));\n            });\n            if (panels.length) {\n                panels.forEach(function (panel) {\n                    console.log(panel);\n                    var classnames = [\n                        'mm-panel_lazysubmenu',\n                        'mm-nolistview',\n                        'mm-nopanel',\n                    ];\n                    //  IE11:\n                    classnames.forEach(function (classname) {\n                        panel.classList.remove(classname);\n                    });\n                    //  Better browsers:\n                    // panel.classList.remove(...classnames);\n                });\n            }\n        });\n        //\tinitPanel for current- and sub panels before openPanel\n        this.bind('openPanel:before', function (panel) {\n            var panels = DOM.find(panel, '.mm-panel_lazysubmenu').filter(function (panel) {\n                return !panel.matches('.mm-panel_lazysubmenu .mm-panel_lazysubmenu');\n            });\n            if (panel.matches('.mm-panel_lazysubmenu')) {\n                panels.unshift(panel);\n            }\n            panels.forEach(function (panel) {\n                var classnames = [\n                    'mm-panel_lazysubmenu',\n                    'mm-nolistview',\n                    'mm-nopanel',\n                ];\n                //  IE11:\n                classnames.forEach(function (classname) {\n                    panel.classList.remove(classname);\n                });\n                //  Better browsers:\n                // child.classList.remove(...classnames);\n                _this.initPanel(panel);\n            });\n        });\n    }\n}\n","var options = [];\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean' && options) {\n        options = {};\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (typeof options.content == 'undefined') {\n        options.content = ['prev', 'title'];\n    }\n    if (!(options.content instanceof Array)) {\n        options.content = [options.content];\n    }\n    if (typeof options.use == 'undefined') {\n        options.use = true;\n    }\n    if (typeof options.use == 'boolean' && options.use) {\n        options.use = true;\n    }\n    return options;\n}\n;\n","var configs = {\n    breadcrumbs: {\n        separator: '/',\n        removeFirst: false\n    }\n};\nexport default configs;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport * as DOM from '../../_modules/dom';\nexport default function (navbar) {\n    var _this = this;\n    //\tAdd content\n    var breadcrumbs = DOM.create('div.mm-navbar__breadcrumbs');\n    navbar.append(breadcrumbs);\n    this.bind('initNavbar:after', function (panel) {\n        if (panel.querySelector('.mm-navbar__breadcrumbs')) {\n            return;\n        }\n        DOM.children(panel, '.mm-navbar')[0].classList.add('mm-hidden');\n        var crumbs = [], breadcrumbs = DOM.create('span.mm-navbar__breadcrumbs'), current = panel, first = true;\n        while (current) {\n            current = current.closest('.mm-panel');\n            if (!current.parentElement.matches('.mm-listitem_vertical')) {\n                var title = DOM.find(current, '.mm-navbar__title span')[0];\n                if (title) {\n                    var text = title.textContent;\n                    if (text.length) {\n                        crumbs.unshift(first\n                            ? '<span>' + text + '</span>'\n                            : '<a href=\"#' +\n                                current.id +\n                                '\">' +\n                                text +\n                                '</a>');\n                    }\n                }\n                first = false;\n            }\n            current = current['mmParent'];\n        }\n        if (_this.conf.navbars.breadcrumbs.removeFirst) {\n            crumbs.shift();\n        }\n        breadcrumbs.innerHTML = crumbs.join('<span class=\"mm-separator\">' +\n            _this.conf.navbars.breadcrumbs.separator +\n            '</span>');\n        DOM.children(panel, '.mm-navbar')[0].append(breadcrumbs);\n    });\n    //\tUpdate for to opened panel\n    this.bind('openPanel:start', function (panel) {\n        var crumbs = panel.querySelector('.mm-navbar__breadcrumbs');\n        breadcrumbs.innerHTML = crumbs ? crumbs.innerHTML : '';\n    });\n    //\tAdd screenreader / aria support\n    this.bind('initNavbar:after:sr-aria', function (panel) {\n        DOM.find(panel, '.mm-breadcrumbs a').forEach(function (anchor) {\n            Mmenu.sr_aria(anchor, 'owns', anchor.getAttribute('href').slice(1));\n        });\n    });\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport * as DOM from '../../_modules/dom';\nexport default function (navbar) {\n    var _this = this;\n    //\tAdd content\n    var close = DOM.create('a.mm-btn.mm-btn_close.mm-navbar__btn');\n    navbar.append(close);\n    //\tUpdate to page node\n    this.bind('setPage:after', function (page) {\n        close.setAttribute('href', '#' + page.id);\n    });\n    //\tAdd screenreader / text support\n    this.bind('setPage:after:sr-text', function () {\n        close.innerHTML = Mmenu.sr_text(_this.i18n(_this.conf.screenReader.text.closeMenu));\n        Mmenu.sr_aria(close, 'owns', close.getAttribute('href').slice(1));\n    });\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport * as DOM from '../../_modules/dom';\nexport default function (navbar) {\n    var _this = this;\n    //\tAdd content.\n    var prev = DOM.create('a.mm-btn.mm-btn_prev.mm-navbar__btn');\n    navbar.append(prev);\n    this.bind('initNavbar:after', function (panel) {\n        DOM.children(panel, '.mm-navbar')[0].classList.add('mm-hidden');\n    });\n    //\tUpdate to opened panel.\n    var org;\n    var _url, _txt;\n    this.bind('openPanel:start', function (panel) {\n        if (panel.parentElement.matches('.mm-listitem_vertical')) {\n            return;\n        }\n        org = panel.querySelector('.' + _this.conf.classNames.navbars.panelPrev);\n        if (!org) {\n            org = panel.querySelector('.mm-navbar__btn.mm-btn_prev');\n        }\n        _url = org ? org.getAttribute('href') : '';\n        _txt = org ? org.innerHTML : '';\n        if (_url) {\n            prev.setAttribute('href', _url);\n        }\n        else {\n            prev.removeAttribute('href');\n        }\n        prev.classList[_url || _txt ? 'remove' : 'add']('mm-hidden');\n        prev.innerHTML = _txt;\n    });\n    //\tAdd screenreader / aria support\n    this.bind('initNavbar:after:sr-aria', function (panel) {\n        Mmenu.sr_aria(panel.querySelector('.mm-navbar'), 'hidden', true);\n    });\n    this.bind('openPanel:start:sr-aria', function (panel) {\n        Mmenu.sr_aria(prev, 'hidden', prev.matches('.mm-hidden'));\n        Mmenu.sr_aria(prev, 'owns', (prev.getAttribute('href') || '').slice(1));\n    });\n}\n","import * as DOM from '../../_modules/dom';\nimport { type } from '../../_modules/helpers';\nexport default function (navbar) {\n    if (type(this.opts.searchfield) != 'object') {\n        this.opts.searchfield = {};\n    }\n    var searchfield = DOM.create('div.mm-navbar__searchfield');\n    navbar.append(searchfield);\n    this.opts.searchfield.add = true;\n    this.opts.searchfield.addTo = [searchfield];\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport * as DOM from '../../_modules/dom';\nexport default function (navbar) {\n    var _this = this;\n    //\tAdd content to the navbar.\n    var title = DOM.create('a.mm-navbar__title');\n    var titleText = DOM.create('span');\n    title.append(titleText);\n    navbar.append(title);\n    //\tUpdate the title to the opened panel.\n    var _url, _txt;\n    var original;\n    this.bind('openPanel:start', function (panel) {\n        //\tDo nothing in a vertically expanding panel.\n        if (panel.parentElement.matches('.mm-listitem_vertical')) {\n            return;\n        }\n        //\tFind the original title in the opened panel.\n        original = panel.querySelector('.' + _this.conf.classNames.navbars.panelTitle);\n        if (!original) {\n            original = panel.querySelector('.mm-navbar__title span');\n        }\n        //\tGet the URL for the title.\n        _url =\n            original && original.closest('a')\n                ? original.closest('a').getAttribute('href')\n                : '';\n        if (_url) {\n            title.setAttribute('href', _url);\n        }\n        else {\n            title.removeAttribute('href');\n        }\n        //\tGet the text for the title.\n        _txt = original ? original.innerHTML : '';\n        titleText.innerHTML = _txt;\n    });\n    //\tAdd screenreader / aria support\n    var prev;\n    this.bind('openPanel:start:sr-aria', function (panel) {\n        if (_this.opts.screenReader.text) {\n            if (!prev) {\n                var navbars = DOM.children(_this.node.menu, '.mm-navbars_top, .mm-navbars_bottom');\n                navbars.forEach(function (navbar) {\n                    var btn = navbar.querySelector('.mm-btn_prev');\n                    if (btn) {\n                        prev = btn;\n                    }\n                });\n            }\n            if (prev) {\n                var hidden = true;\n                if (_this.opts.navbar.titleLink == 'parent') {\n                    hidden = !prev.matches('.mm-hidden');\n                }\n                Mmenu.sr_aria(title, 'hidden', hidden);\n            }\n        }\n    });\n}\n","import * as DOM from '../../_modules/dom';\nexport default function (navbar) {\n    var _this = this;\n    navbar.classList.add('mm-navbar_tabs');\n    navbar.parentElement.classList.add('mm-navbars_has-tabs');\n    var anchors = DOM.children(navbar, 'a');\n    navbar.addEventListener('click', function (evnt) {\n        var anchor = evnt.target;\n        if (!anchor.matches('a')) {\n            return;\n        }\n        if (anchor.matches('.mm-navbar__tab_selected')) {\n            evnt.stopImmediatePropagation();\n            return;\n        }\n        try {\n            _this.openPanel(_this.node.menu.querySelector(anchor.getAttribute('href')), false);\n            evnt.stopImmediatePropagation();\n        }\n        catch (err) { }\n    });\n    function selectTab(panel) {\n        anchors.forEach(function (anchor) {\n            anchor.classList.remove('mm-navbar__tab_selected');\n        });\n        var anchor = anchors.filter(function (anchor) {\n            return anchor.matches('[href=\"#' + panel.id + '\"]');\n        })[0];\n        if (anchor) {\n            anchor.classList.add('mm-navbar__tab_selected');\n        }\n        else {\n            var parent = panel['mmParent'];\n            if (parent) {\n                selectTab.call(this, parent.closest('.mm-panel'));\n            }\n        }\n    }\n    this.bind('openPanel:start', selectTab);\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as media from '../../_modules/matchmedia';\n//  Add the options and configs.\nMmenu.options.navbars = options;\nMmenu.configs.navbars = configs;\n//  Add the classnames.\nMmenu.configs.classNames.navbars = {\n    panelPrev: 'Prev',\n    panelTitle: 'Title'\n};\nimport breadcrumbs from './_navbar.breadcrumbs';\nimport close from './_navbar.close';\nimport prev from './_navbar.prev';\nimport searchfield from './_navbar.searchfield';\nimport title from './_navbar.title';\nNavbars.navbarContents = {\n    breadcrumbs: breadcrumbs,\n    close: close,\n    prev: prev,\n    searchfield: searchfield,\n    title: title\n};\nimport tabs from './_navbar.tabs';\nNavbars.navbarTypes = {\n    tabs: tabs\n};\nexport default function Navbars() {\n    var _this = this;\n    var navs = this.opts.navbars;\n    if (typeof navs == 'undefined') {\n        return;\n    }\n    if (!(navs instanceof Array)) {\n        navs = [navs];\n    }\n    var navbars = {};\n    if (!navs.length) {\n        return;\n    }\n    navs.forEach(function (options) {\n        options = extendShorthandOptions(options);\n        if (!options.use) {\n            return false;\n        }\n        //\tCreate the navbar element.\n        var navbar = DOM.create('div.mm-navbar');\n        //\tGet the position for the navbar.\n        var position = options.position;\n        //\tRestrict the position to either \"bottom\" or \"top\" (default).\n        if (position !== 'bottom') {\n            position = 'top';\n        }\n        //\tCreate the wrapper for the navbar position.\n        if (!navbars[position]) {\n            navbars[position] = DOM.create('div.mm-navbars_' + position);\n        }\n        navbars[position].append(navbar);\n        //\tAdd content to the navbar.\n        for (var c = 0, l = options.content.length; c < l; c++) {\n            var ctnt = options.content[c];\n            //\tThe content is a string.\n            if (typeof ctnt == 'string') {\n                var func = Navbars.navbarContents[ctnt];\n                //\tThe content refers to one of the navbar-presets (\"prev\", \"title\", etc).\n                if (typeof func == 'function') {\n                    //\tCall the preset function.\n                    func.call(_this, navbar);\n                    //\tThe content is just HTML.\n                }\n                else {\n                    //\tAdd the HTML.\n                    //  Wrap the HTML in a single node\n                    var node = DOM.create('span');\n                    node.innerHTML = ctnt;\n                    //  If there was only a single node, use that.\n                    var children = DOM.children(node);\n                    if (children.length == 1) {\n                        node = children[0];\n                    }\n                    navbar.append(node);\n                }\n                //\tThe content is not a string, it must be an element.\n            }\n            else {\n                navbar.append(ctnt);\n            }\n        }\n        //\tThe type option is set.\n        if (typeof options.type == 'string') {\n            //\tThe function refers to one of the navbar-presets (\"tabs\").\n            var func = Navbars.navbarTypes[options.type];\n            if (typeof func == 'function') {\n                //\tCall the preset function.\n                func.call(_this, navbar);\n            }\n        }\n        //\tEn-/disable the navbar.\n        var enable = function () {\n            navbar.classList.remove('mm-hidden');\n            Mmenu.sr_aria(navbar, 'hidden', false);\n        };\n        var disable = function () {\n            navbar.classList.add('mm-hidden');\n            Mmenu.sr_aria(navbar, 'hidden', true);\n        };\n        if (typeof options.use != 'boolean') {\n            media.add(options.use, enable, disable);\n        }\n    });\n    //\tAdd to menu.\n    this.bind('initMenu:after', function () {\n        for (var position in navbars) {\n            _this.node.menu[position == 'bottom' ? 'append' : 'prepend'](navbars[position]);\n        }\n    });\n}\n","var options = {\n    scroll: false,\n    update: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            scroll: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","var configs = {\n    scrollOffset: 0,\n    updateOffset: 50\n};\nexport default configs;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options and configs.\nMmenu.options.pageScroll = options;\nMmenu.configs.pageScroll = configs;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.pageScroll);\n    this.opts.pageScroll = extend(options, Mmenu.options.pageScroll);\n    var configs = this.conf.pageScroll;\n    /** The currently \"active\" section */\n    var section;\n    function scrollTo() {\n        if (section) {\n            // section.scrollIntoView({ behavior: 'smooth' });\n            window.scrollTo({\n                top: section.getBoundingClientRect().top +\n                    document.scrollingElement.scrollTop -\n                    configs.scrollOffset,\n                behavior: 'smooth'\n            });\n        }\n        section = null;\n    }\n    function anchorInPage(href) {\n        try {\n            if (href != '#' && href.slice(0, 1) == '#') {\n                return Mmenu.node.page.querySelector(href);\n            }\n            return null;\n        }\n        catch (err) {\n            return null;\n        }\n    }\n    //\tScroll to section after clicking menu item.\n    if (options.scroll) {\n        this.bind('close:finish', function () {\n            scrollTo();\n        });\n    }\n    //\tAdd click behavior.\n    //\tPrevents default behavior when clicking an anchor.\n    if (this.opts.offCanvas && options.scroll) {\n        this.clck.push(function (anchor, args) {\n            section = null;\n            //\tDon't continue if the clicked anchor is not in the menu.\n            if (!args.inMenu) {\n                return;\n            }\n            //\tDon't continue if the targeted section is not on the page.\n            var href = anchor.getAttribute('href');\n            section = anchorInPage(href);\n            if (!section) {\n                return;\n            }\n            //\tIf the sidebar add-on is \"expanded\"...\n            if (_this.node.menu.matches('.mm-menu_sidebar-expanded') &&\n                _this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n                //\t... scroll the page to the section.\n                scrollTo();\n                //\t... otherwise...\n            }\n            else {\n                //\t... close the menu.\n                return {\n                    close: true\n                };\n            }\n        });\n    }\n    //\tUpdate selected menu item after scrolling.\n    if (options.update) {\n        var scts_1 = [];\n        this.bind('initListview:after', function (listview) {\n            var listitems = DOM.children(listview, '.mm-listitem');\n            DOM.filterLIA(listitems).forEach(function (anchor) {\n                var href = anchor.getAttribute('href');\n                var section = anchorInPage(href);\n                if (section) {\n                    scts_1.unshift(section);\n                }\n            });\n        });\n        var _selected_1 = -1;\n        window.addEventListener('scroll', function (evnt) {\n            var scrollTop = window.scrollY;\n            for (var s = 0; s < scts_1.length; s++) {\n                if (scts_1[s].offsetTop < scrollTop + configs.updateOffset) {\n                    if (_selected_1 !== s) {\n                        _selected_1 = s;\n                        var panel = DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n                        var listitems = DOM.find(panel, '.mm-listitem');\n                        var anchors = DOM.filterLIA(listitems);\n                        anchors = anchors.filter(function (anchor) {\n                            return anchor.matches('[href=\"#' + scts_1[s].id + '\"]');\n                        });\n                        if (anchors.length) {\n                            _this.setSelected(anchors[0].parentElement);\n                        }\n                    }\n                    break;\n                }\n            }\n        });\n    }\n}\n","var options = {\n    add: false,\n    addTo: 'panels',\n    cancel: false,\n    noResults: 'No results found.',\n    placeholder: 'Search',\n    panel: {\n        add: false,\n        dividers: true,\n        fx: 'none',\n        id: null,\n        splash: null,\n        title: 'Search'\n    },\n    search: true,\n    showTextItems: false,\n    showSubPanels: true\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    if (typeof options.panel == 'boolean') {\n        options.panel = {\n            add: options.panel\n        };\n    }\n    if (typeof options.panel != 'object') {\n        options.panel = {};\n    }\n    //\tExtend logical options.\n    if (options.addTo == 'panel') {\n        options.panel.add = true;\n    }\n    if (options.panel.add) {\n        options.showSubPanels = false;\n        if (options.panel.splash) {\n            options.cancel = true;\n        }\n    }\n    return options;\n}\n;\n","var configs = {\n    clear: false,\n    form: false,\n    input: false,\n    submit: false\n};\nexport default configs;\n","export default {\n    Search: 'Zoeken',\n    'No results found.': 'Geen resultaten gevonden.',\n    cancel: 'annuleren'\n};\n","export default {\n    Search: 'جستجو',\n    'No results found.': 'نتیجه‌ای یافت نشد.',\n    cancel: 'انصراف'\n};\n","export default {\n    Search: 'Suche',\n    'No results found.': 'Keine Ergebnisse gefunden.',\n    cancel: 'beenden'\n};\n","export default {\n    Search: 'Найти',\n    'No results found.': 'Ничего не найдено.',\n    cancel: 'отменить'\n};\n","import { add } from '../../../_modules/i18n';\nimport nl from './nl';\nimport fa from './fa';\nimport de from './de';\nimport ru from './ru';\nexport default function () {\n    add(nl, 'nl');\n    add(fa, 'fa');\n    add(de, 'de');\n    add(ru, 'ru');\n}\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport configs from './_configs';\nimport translate from './translations/translate';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as events from '../../_modules/eventlisteners';\nimport { type, extend } from '../../_modules/helpers';\n//  Add the translations.\ntranslate();\n//  Add the options and configs.\nMmenu.options.searchfield = options;\nMmenu.configs.searchfield = configs;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.searchfield);\n    this.opts.searchfield = extend(options, Mmenu.options.searchfield);\n    var configs = this.conf.searchfield;\n    if (!options.add) {\n        return;\n    }\n    //\tBlur searchfield\n    this.bind('close:start', function () {\n        DOM.find(_this.node.menu, '.mm-searchfield').forEach(function (input) {\n            input.blur();\n        });\n    });\n    this.bind('initPanel:after', function (panel) {\n        var searchpanel = null;\n        //\tAdd the search panel\n        if (options.panel.add) {\n            searchpanel = initSearchPanel.call(_this);\n        }\n        //\tAdd the searchfield\n        var addTo = null;\n        switch (options.addTo) {\n            case 'panels':\n                addTo = [panel];\n                break;\n            case 'panel':\n                addTo = [searchpanel];\n                break;\n            default:\n                if (typeof options.addTo == 'string') {\n                    addTo = DOM.find(_this.node.menu, options.addTo);\n                }\n                else if (type(options.addTo) == 'array') {\n                    addTo = options.addTo;\n                }\n                break;\n        }\n        addTo.forEach(function (form) {\n            form = initSearchfield.call(_this, form);\n            if (options.search && form) {\n                initSearching.call(_this, form);\n            }\n        });\n        //\tAdd the no-results message\n        if (options.noResults) {\n            initNoResultsMsg.call(_this, options.panel.add ? searchpanel : panel);\n        }\n    });\n    //\tAdd click behavior.\n    //\tPrevents default behavior when clicking an anchor\n    this.clck.push(function (anchor, args) {\n        if (args.inMenu) {\n            if (anchor.matches('.mm-searchfield__btn')) {\n                //\tClicking the clear button\n                if (anchor.matches('.mm-btn_close')) {\n                    var form = anchor.closest('.mm-searchfield'), input = DOM.find(form, 'input')[0];\n                    input.value = '';\n                    _this.search(input);\n                    return true;\n                }\n                //\tClicking the submit button\n                if (anchor.matches('.mm-btn_next')) {\n                    var form = anchor.closest('form');\n                    if (form) {\n                        form.submit();\n                    }\n                    return true;\n                }\n            }\n        }\n    });\n}\nvar initSearchPanel = function () {\n    var options = this.opts.searchfield, configs = this.conf.searchfield;\n    var searchpanel = DOM.children(this.node.pnls, '.mm-panel_search')[0];\n    //\tOnly once\n    if (searchpanel) {\n        return searchpanel;\n    }\n    searchpanel = DOM.create('div.mm-panel.mm-panel_search.mm-hidden');\n    if (options.panel.id) {\n        searchpanel.id = options.panel.id;\n    }\n    if (options.panel.title) {\n        searchpanel.setAttribute('data-mm-title', options.panel.title);\n        // searchpanel.dataset.mmTitle = options.panel.title; // IE10 has no dataset :(\n    }\n    var listview = DOM.create('ul');\n    searchpanel.append(listview);\n    this.node.pnls.append(searchpanel);\n    this.initListview(listview);\n    this._initNavbar(searchpanel);\n    switch (options.panel.fx) {\n        case false:\n            break;\n        case 'none':\n            searchpanel.classList.add('mm-panel_noanimation');\n            break;\n        default:\n            searchpanel.classList.add('mm-panel_fx-' + options.panel.fx);\n            break;\n    }\n    //\tAdd splash content\n    if (options.panel.splash) {\n        var splash = DOM.create('div.mm-panel__content');\n        splash.innerHTML = options.panel.splash;\n        searchpanel.append(splash);\n    }\n    searchpanel.classList.add('mm-panel');\n    searchpanel.classList.add('mm-hidden');\n    this.node.pnls.append(searchpanel);\n    return searchpanel;\n};\nvar initSearchfield = function (wrapper) {\n    var options = this.opts.searchfield, configs = this.conf.searchfield;\n    //\tNo searchfield in vertical submenus\n    if (wrapper.parentElement.matches('.mm-listitem_vertical')) {\n        return null;\n    }\n    //\tOnly one searchfield per panel\n    var form = DOM.find(wrapper, '.mm-searchfield')[0];\n    if (form) {\n        return form;\n    }\n    function addAttributes(element, attr) {\n        if (attr) {\n            for (var a in attr) {\n                element.setAttribute(a, attr[a]);\n            }\n        }\n    }\n    var form = DOM.create((configs.form ? 'form' : 'div') + '.mm-searchfield'), field = DOM.create('div.mm-searchfield__input'), input = DOM.create('input');\n    input.type = 'text';\n    input.autocomplete = 'off';\n    input.placeholder = this.i18n(options.placeholder);\n    field.append(input);\n    form.append(field);\n    wrapper.prepend(form);\n    //\tAdd attributes to the input\n    addAttributes(input, configs.input);\n    //\tAdd the clear button\n    if (configs.clear) {\n        var anchor = DOM.create('a.mm-btn.mm-btn_close.mm-searchfield__btn');\n        anchor.setAttribute('href', '#');\n        field.append(anchor);\n    }\n    //\tAdd attributes and submit to the form\n    addAttributes(form, configs.form);\n    if (configs.form && configs.submit && !configs.clear) {\n        var anchor = DOM.create('a.mm-btn.mm-btn_next.mm-searchfield__btn');\n        anchor.setAttribute('href', '#');\n        field.append(anchor);\n    }\n    if (options.cancel) {\n        var anchor = DOM.create('a.mm-searchfield__cancel');\n        anchor.setAttribute('href', '#');\n        anchor.textContent = this.i18n('cancel');\n        form.append(anchor);\n    }\n    return form;\n};\nvar initSearching = function (form) {\n    var _this = this;\n    var options = this.opts.searchfield, configs = this.conf.searchfield;\n    var data = {};\n    //\tIn the searchpanel.\n    if (form.closest('.mm-panel_search')) {\n        data.panels = DOM.find(this.node.pnls, '.mm-panel');\n        data.noresults = [form.closest('.mm-panel')];\n        //\tIn a panel\n    }\n    else if (form.closest('.mm-panel')) {\n        data.panels = [form.closest('.mm-panel')];\n        data.noresults = data.panels;\n        //\tNot in a panel, global\n    }\n    else {\n        data.panels = DOM.find(this.node.pnls, '.mm-panel');\n        data.noresults = [this.node.menu];\n    }\n    //\tFilter out search panel\n    data.panels = data.panels.filter(function (panel) { return !panel.matches('.mm-panel_search'); });\n    //\tFilter out vertical submenus\n    data.panels = data.panels.filter(function (panel) { return !panel.parentElement.matches('.mm-listitem_vertical'); });\n    //  Find listitems and dividers.\n    data.listitems = [];\n    data.dividers = [];\n    data.panels.forEach(function (panel) {\n        var _a, _b;\n        (_a = data.listitems).push.apply(_a, DOM.find(panel, '.mm-listitem'));\n        (_b = data.dividers).push.apply(_b, DOM.find(panel, '.mm-divider'));\n    });\n    var searchpanel = DOM.children(this.node.pnls, '.mm-panel_search')[0], input = DOM.find(form, 'input')[0], cancel = DOM.find(form, '.mm-searchfield__cancel')[0];\n    input['mmSearchfield'] = data;\n    //\tOpen the splash panel when focussing the input.\n    if (options.panel.add && options.panel.splash) {\n        events.off(input, 'focus.splash');\n        events.on(input, 'focus.splash', function (evnt) {\n            _this.openPanel(searchpanel);\n        });\n    }\n    if (options.cancel) {\n        //\tShow the cancel button when focussing the input.\n        events.off(input, 'focus.cancel');\n        events.on(input, 'focus.cancel', function (evnt) {\n            cancel.classList.add('mm-searchfield__cancel-active');\n        });\n        //\tClose the splash panel when clicking the cancel button.\n        events.off(cancel, 'click.splash');\n        events.on(cancel, 'click.splash', function (evnt) {\n            evnt.preventDefault();\n            cancel.classList.remove('mm-searchfield__cancel-active');\n            if (searchpanel.matches('.mm-panel_opened')) {\n                var parents = DOM.children(_this.node.pnls, '.mm-panel_opened-parent');\n                if (parents.length) {\n                    _this.openPanel(parents[parents.length - 1]);\n                }\n            }\n        });\n    }\n    //\tFocus the input in the searchpanel when opening the searchpanel.\n    if (options.panel.add && options.addTo == 'panel') {\n        this.bind('openPanel:finish', function (panel) {\n            if (panel === searchpanel) {\n                input.focus();\n            }\n        });\n    }\n    //\tSearch while typing.\n    events.off(input, 'input.search');\n    events.on(input, 'input.search', function (evnt) {\n        switch (evnt.keyCode) {\n            case 9: //\ttab\n            case 16: //\tshift\n            case 17: //\tcontrol\n            case 18: //\talt\n            case 37: //\tleft\n            case 38: //\ttop\n            case 39: //\tright\n            case 40: //\tbottom\n                break;\n            default:\n                _this.search(input);\n                break;\n        }\n    });\n    //\tSearch initially.\n    this.search(input);\n};\nvar initNoResultsMsg = function (wrapper) {\n    if (!wrapper) {\n        return;\n    }\n    var options = this.opts.searchfield, configs = this.conf.searchfield;\n    //\tNot in a panel\n    if (!wrapper.closest('.mm-panel')) {\n        wrapper = DOM.children(this.node.pnls, '.mm-panel')[0];\n    }\n    //\tOnly once\n    if (DOM.children(wrapper, '.mm-panel__noresultsmsg').length) {\n        return;\n    }\n    //\tAdd no-results message\n    var message = DOM.create('div.mm-panel__noresultsmsg.mm-hidden');\n    message.innerHTML = this.i18n(options.noResults);\n    wrapper.append(message);\n};\nMmenu.prototype.search = function (input, query) {\n    var _a;\n    var _this = this;\n    var options = this.opts.searchfield, configs = this.conf.searchfield;\n    query = query || '' + input.value;\n    query = query.toLowerCase().trim();\n    var data = input['mmSearchfield'];\n    var form = input.closest('.mm-searchfield'), buttons = DOM.find(form, '.mm-btn'), searchpanel = DOM.children(this.node.pnls, '.mm-panel_search')[0];\n    /** The panels. */\n    var panels = data.panels;\n    /** The \"no results\" messages in a cloned array. */\n    var noresults = data.noresults;\n    /** The listitems in a cloned array. */\n    var listitems = data.listitems;\n    /** Tje dividers in a cloned array. */\n    var dividers = data.dividers;\n    //\tReset previous results\n    listitems.forEach(function (listitem) {\n        listitem.classList.remove('mm-listitem_nosubitems');\n        listitem.classList.remove('mm-listitem_onlysubitems');\n        listitem.classList.remove('mm-hidden');\n    });\n    if (searchpanel) {\n        DOM.children(searchpanel, '.mm-listview')[0].innerHTML = '';\n    }\n    panels.forEach(function (panel) {\n        panel.scrollTop = 0;\n    });\n    //\tSearch\n    if (query.length) {\n        //\tInitially hide all dividers.\n        dividers.forEach(function (divider) {\n            divider.classList.add('mm-hidden');\n        });\n        //\tHide listitems that do not match.\n        listitems.forEach(function (listitem) {\n            var text = DOM.children(listitem, '.mm-listitem__text')[0];\n            var add = false;\n            //  The listitem should be shown if:\n            //          1) The text matches the query and\n            //          2a) The text is a open-button and\n            //          2b) the option showSubPanels is set to true.\n            //      or  3a) The text is not an anchor and\n            //          3b) the option showTextItems is set to true.\n            //      or  4)  The text is an anchor.\n            //  1\n            if (text &&\n                DOM.text(text)\n                    .toLowerCase()\n                    .indexOf(query) > -1) {\n                //  2a\n                if (text.matches('.mm-listitem__btn')) {\n                    //  2b\n                    if (options.showSubPanels) {\n                        add = true;\n                    }\n                }\n                //  3a\n                else if (!text.matches('a')) {\n                    //  3b\n                    if (options.showTextItems) {\n                        add = true;\n                    }\n                }\n                // 4\n                else {\n                    add = true;\n                }\n            }\n            if (!add) {\n                listitem.classList.add('mm-hidden');\n            }\n        });\n        /** Whether or not the query yielded results. */\n        var hasResults = listitems.filter(function (listitem) { return !listitem.matches('.mm-hidden'); }).length;\n        //\tShow all mached listitems in the search panel\n        if (options.panel.add) {\n            //\tClone all matched listitems into the search panel\n            var allitems_1 = [];\n            panels.forEach(function (panel) {\n                var listitems = DOM.filterLI(DOM.find(panel, '.mm-listitem'));\n                listitems = listitems.filter(function (listitem) { return !listitem.matches('.mm-hidden'); });\n                if (listitems.length) {\n                    //  Add a divider to indicate in what panel the listitems were.\n                    if (options.panel.dividers) {\n                        var divider = DOM.create('li.mm-divider');\n                        var title = DOM.find(panel, '.mm-navbar__title')[0];\n                        if (title) {\n                            divider.innerHTML = title.innerHTML;\n                            allitems_1.push(divider);\n                        }\n                    }\n                    listitems.forEach(function (listitem) {\n                        allitems_1.push(listitem.cloneNode(true));\n                    });\n                }\n            });\n            //\tRemove toggles and checks.\n            allitems_1.forEach(function (listitem) {\n                listitem\n                    .querySelectorAll('.mm-toggle, .mm-check')\n                    .forEach(function (element) {\n                    element.remove();\n                });\n            });\n            //\tAdd to the search panel.\n            (_a = DOM.children(searchpanel, '.mm-listview')[0]).append.apply(_a, allitems_1);\n            //\tOpen the search panel.\n            this.openPanel(searchpanel);\n        }\n        else {\n            //\tAlso show listitems in sub-panels for matched listitems\n            if (options.showSubPanels) {\n                panels.forEach(function (panel) {\n                    var listitems = DOM.find(panel, '.mm-listitem');\n                    DOM.filterLI(listitems).forEach(function (listitem) {\n                        var child = listitem['mmChild'];\n                        if (child) {\n                            DOM.find(child, '.mm-listitem').forEach(function (listitem) {\n                                listitem.classList.remove('mm-hidden');\n                            });\n                        }\n                    });\n                });\n            }\n            //\tUpdate parent for sub-panel\n            //  .reverse() mutates the original array, therefor we \"clone\" it first using [...panels].\n            __spreadArrays(panels).reverse().forEach(function (panel, p) {\n                var parent = panel['mmParent'];\n                if (parent) {\n                    //\tThe current panel has mached listitems\n                    var listitems_1 = DOM.find(panel, '.mm-listitem');\n                    if (DOM.filterLI(listitems_1).length) {\n                        //\tShow parent\n                        if (parent.matches('.mm-hidden')) {\n                            parent.classList.remove('mm-hidden');\n                        }\n                        parent.classList.add('mm-listitem_onlysubitems');\n                    }\n                    else if (!input.closest('.mm-panel')) {\n                        if (panel.matches('.mm-panel_opened') ||\n                            panel.matches('.mm-panel_opened-parent')) {\n                            //\tCompensate the timeout for the opening animation\n                            setTimeout(function () {\n                                _this.openPanel(parent.closest('.mm-panel'));\n                            }, (p + 1) * (_this.conf.openingInterval * 1.5));\n                        }\n                        parent.classList.add('mm-listitem_nosubitems');\n                    }\n                }\n            });\n            //\tShow parent panels of vertical submenus\n            panels.forEach(function (panel) {\n                var listitems = DOM.find(panel, '.mm-listitem');\n                DOM.filterLI(listitems).forEach(function (listitem) {\n                    DOM.parents(listitem, '.mm-listitem_vertical').forEach(function (parent) {\n                        if (parent.matches('.mm-hidden')) {\n                            parent.classList.remove('mm-hidden');\n                            parent.classList.add('mm-listitem_onlysubitems');\n                        }\n                    });\n                });\n            });\n            //\tShow first preceeding divider of parent\n            panels.forEach(function (panel) {\n                var listitems = DOM.find(panel, '.mm-listitem');\n                DOM.filterLI(listitems).forEach(function (listitem) {\n                    var divider = DOM.prevAll(listitem, '.mm-divider')[0];\n                    if (divider) {\n                        divider.classList.remove('mm-hidden');\n                    }\n                });\n            });\n        }\n        //\tShow submit / clear button\n        buttons.forEach(function (button) { return button.classList.remove('mm-hidden'); });\n        //\tShow/hide no results message\n        noresults.forEach(function (wrapper) {\n            DOM.find(wrapper, '.mm-panel__noresultsmsg').forEach(function (message) {\n                return message.classList[hasResults ? 'add' : 'remove']('mm-hidden');\n            });\n        });\n        if (options.panel.add) {\n            //\tHide splash\n            if (options.panel.splash) {\n                DOM.find(searchpanel, '.mm-panel__content').forEach(function (splash) {\n                    return splash.classList.add('mm-hidden');\n                });\n            }\n            //\tRe-show original listitems when in search panel\n            listitems.forEach(function (listitem) {\n                return listitem.classList.remove('mm-hidden');\n            });\n            dividers.forEach(function (divider) { return divider.classList.remove('mm-hidden'); });\n        }\n        //\tDon't search\n    }\n    else {\n        //\tShow all items\n        listitems.forEach(function (listitem) { return listitem.classList.remove('mm-hidden'); });\n        dividers.forEach(function (divider) { return divider.classList.remove('mm-hidden'); });\n        //\tHide submit / clear button\n        buttons.forEach(function (button) { return button.classList.add('mm-hidden'); });\n        //\tHide no results message\n        noresults.forEach(function (wrapper) {\n            DOM.find(wrapper, '.mm-panel__noresultsmsg').forEach(function (message) {\n                return message.classList.add('mm-hidden');\n            });\n        });\n        if (options.panel.add) {\n            //\tShow splash\n            if (options.panel.splash) {\n                DOM.find(searchpanel, '.mm-panel__content').forEach(function (splash) {\n                    return splash.classList.remove('mm-hidden');\n                });\n                //\tClose panel\n            }\n            else if (!input.closest('.mm-panel_search')) {\n                var opened = DOM.children(this.node.pnls, '.mm-panel_opened-parent');\n                this.openPanel(opened.slice(-1)[0]);\n            }\n        }\n    }\n    //\tUpdate for other addons\n    this.trigger('updateListview');\n};\n","var options = {\n    add: false,\n    addTo: 'panels'\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            add: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as support from '../../_modules/support';\nimport { extend } from '../../_modules/helpers';\n//  Add the options.\nMmenu.options.sectionIndexer = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.sectionIndexer);\n    this.opts.sectionIndexer = extend(options, Mmenu.options.sectionIndexer);\n    if (!options.add) {\n        return;\n    }\n    this.bind('initPanels:after', function () {\n        //\tAdd the indexer, only if it does not allready excists\n        if (!_this.node.indx) {\n            var buttons_1 = '';\n            'abcdefghijklmnopqrstuvwxyz'.split('').forEach(function (letter) {\n                buttons_1 += '<a href=\"#\">' + letter + '</a>';\n            });\n            var indexer = DOM.create('div.mm-sectionindexer');\n            indexer.innerHTML = buttons_1;\n            _this.node.pnls.prepend(indexer);\n            _this.node.indx = indexer;\n            //\tPrevent default behavior when clicking an anchor\n            _this.node.indx.addEventListener('click', function (evnt) {\n                var anchor = evnt.target;\n                if (anchor.matches('a')) {\n                    evnt.preventDefault();\n                }\n            });\n            //\tScroll onMouseOver / onTouchStart\n            var mouseOverEvent = function (evnt) {\n                if (!evnt.target.matches('a')) {\n                    return;\n                }\n                var letter = evnt.target.textContent, panel = DOM.children(_this.node.pnls, '.mm-panel_opened')[0];\n                var newTop = -1, oldTop = panel.scrollTop;\n                panel.scrollTop = 0;\n                DOM.find(panel, '.mm-divider')\n                    .filter(function (divider) { return !divider.matches('.mm-hidden'); })\n                    .forEach(function (divider) {\n                    if (newTop < 0 &&\n                        letter ==\n                            divider.textContent\n                                .trim()\n                                .slice(0, 1)\n                                .toLowerCase()) {\n                        newTop = divider.offsetTop;\n                    }\n                });\n                panel.scrollTop = newTop > -1 ? newTop : oldTop;\n            };\n            if (support.touch) {\n                _this.node.indx.addEventListener('touchstart', mouseOverEvent);\n                _this.node.indx.addEventListener('touchmove', mouseOverEvent);\n            }\n            else {\n                _this.node.indx.addEventListener('mouseover', mouseOverEvent);\n            }\n        }\n        //\tShow or hide the indexer\n        _this.bind('openPanel:start', function (panel) {\n            var active = DOM.find(panel, '.mm-divider').filter(function (divider) { return !divider.matches('.mm-hidden'); }).length;\n            _this.node.indx.classList[active ? 'add' : 'remove']('mm-sectionindexer_active');\n        });\n    });\n}\n","var options = {\n    current: true,\n    hover: false,\n    parent: false\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'boolean') {\n        options = {\n            hover: options,\n            parent: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    return options;\n}\n;\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport { extend } from '../../_modules/helpers';\n//\tAdd the options.\nMmenu.options.setSelected = options;\nexport default function () {\n    var _this = this;\n    var options = extendShorthandOptions(this.opts.setSelected);\n    this.opts.setSelected = extend(options, Mmenu.options.setSelected);\n    //\tFind current by URL\n    if (options.current == 'detect') {\n        var findCurrent_1 = function (url) {\n            url = url.split('?')[0].split('#')[0];\n            var anchor = _this.node.menu.querySelector('a[href=\"' + url + '\"], a[href=\"' + url + '/\"]');\n            if (anchor) {\n                _this.setSelected(anchor.parentElement);\n            }\n            else {\n                var arr = url.split('/').slice(0, -1);\n                if (arr.length) {\n                    findCurrent_1(arr.join('/'));\n                }\n            }\n        };\n        this.bind('initMenu:after', function () {\n            findCurrent_1.call(_this, window.location.href);\n        });\n        //\tRemove current selected item\n    }\n    else if (!options.current) {\n        this.bind('initListview:after', function (listview) {\n            DOM.children(listview, '.mm-listitem_selected').forEach(function (listitem) {\n                listitem.classList.remove('mm-listitem_selected');\n            });\n        });\n    }\n    //\tAdd :hover effect on items\n    if (options.hover) {\n        this.bind('initMenu:after', function () {\n            _this.node.menu.classList.add('mm-menu_selected-hover');\n        });\n    }\n    //\tSet parent item selected for submenus\n    if (options.parent) {\n        this.bind('openPanel:finish', function (panel) {\n            //\tRemove all\n            DOM.find(_this.node.pnls, '.mm-listitem_selected-parent').forEach(function (listitem) {\n                listitem.classList.remove('mm-listitem_selected-parent');\n            });\n            //\tMove up the DOM tree\n            var parent = panel['mmParent'];\n            while (parent) {\n                if (!parent.matches('.mm-listitem_vertical')) {\n                    parent.classList.add('mm-listitem_selected-parent');\n                }\n                parent = parent.closest('.mm-panel');\n                parent = parent['mmParent'];\n            }\n        });\n        this.bind('initMenu:after', function () {\n            _this.node.menu.classList.add('mm-menu_selected-parent');\n        });\n    }\n}\n","var options = {\n    collapsed: {\n        use: false,\n        blockMenu: true,\n        hideDivider: false,\n        hideNavbar: true\n    },\n    expanded: {\n        use: false,\n        initial: 'open'\n    }\n};\nexport default options;\n/**\n * Extend shorthand options.\n *\n * @param  {object} options The options to extend.\n * @return {object}\t\t\tThe extended options.\n */\nexport function extendShorthandOptions(options) {\n    if (typeof options == 'string' ||\n        (typeof options == 'boolean' && options) ||\n        typeof options == 'number') {\n        options = {\n            expanded: options\n        };\n    }\n    if (typeof options != 'object') {\n        options = {};\n    }\n    //\tExtend collapsed shorthand options.\n    if (typeof options.collapsed == 'boolean' && options.collapsed) {\n        options.collapsed = {\n            use: true\n        };\n    }\n    if (typeof options.collapsed == 'string' ||\n        typeof options.collapsed == 'number') {\n        options.collapsed = {\n            use: options.collapsed\n        };\n    }\n    if (typeof options.collapsed != 'object') {\n        options.collapsed = {};\n    }\n    //\tExtend expanded shorthand options.\n    if (typeof options.expanded == 'boolean' && options.expanded) {\n        options.expanded = {\n            use: true\n        };\n    }\n    if (typeof options.expanded == 'string' ||\n        typeof options.expanded == 'number') {\n        options.expanded = {\n            use: options.expanded\n        };\n    }\n    if (typeof options.expanded != 'object') {\n        options.expanded = {};\n    }\n    return options;\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport options from './_options';\nimport { extendShorthandOptions } from './_options';\nimport * as DOM from '../../_modules/dom';\nimport * as media from '../../_modules/matchmedia';\nimport { extend } from '../../_modules/helpers';\n//  Add the options.\nMmenu.options.sidebar = options;\nexport default function () {\n    var _this = this;\n    if (!this.opts.offCanvas) {\n        return;\n    }\n    var options = extendShorthandOptions(this.opts.sidebar);\n    this.opts.sidebar = extend(options, Mmenu.options.sidebar);\n    //\tCollapsed\n    if (options.collapsed.use) {\n        //\tMake the menu collapsable.\n        this.bind('initMenu:after', function () {\n            _this.node.menu.classList.add('mm-menu_sidebar-collapsed');\n            if (options.collapsed.blockMenu &&\n                _this.opts.offCanvas &&\n                !DOM.children(_this.node.menu, '.mm-menu__blocker')[0]) {\n                var anchor = DOM.create('a.mm-menu__blocker');\n                anchor.setAttribute('href', '#' + _this.node.menu.id);\n                _this.node.menu.prepend(anchor);\n            }\n            if (options.collapsed.hideNavbar) {\n                _this.node.menu.classList.add('mm-menu_hidenavbar');\n            }\n            if (options.collapsed.hideDivider) {\n                _this.node.menu.classList.add('mm-menu_hidedivider');\n            }\n        });\n        //\tEn-/disable the collapsed sidebar.\n        var enable = function () {\n            _this.node.wrpr.classList.add('mm-wrapper_sidebar-collapsed');\n        };\n        var disable = function () {\n            _this.node.wrpr.classList.remove('mm-wrapper_sidebar-collapsed');\n        };\n        if (typeof options.collapsed.use == 'boolean') {\n            this.bind('initMenu:after', enable);\n        }\n        else {\n            media.add(options.collapsed.use, enable, disable);\n        }\n    }\n    //\tExpanded\n    if (options.expanded.use) {\n        //\tMake the menu expandable\n        this.bind('initMenu:after', function () {\n            _this.node.menu.classList.add('mm-menu_sidebar-expanded');\n        });\n        //\tEn-/disable the expanded sidebar.\n        var enable = function () {\n            _this.node.wrpr.classList.add('mm-wrapper_sidebar-expanded');\n            if (!_this.node.wrpr.matches('.mm-wrapper_sidebar-closed')) {\n                _this.open();\n            }\n        };\n        var disable = function () {\n            _this.node.wrpr.classList.remove('mm-wrapper_sidebar-expanded');\n            _this.close();\n        };\n        if (typeof options.expanded.use == 'boolean') {\n            this.bind('initMenu:after', enable);\n        }\n        else {\n            media.add(options.expanded.use, enable, disable);\n        }\n        //  Manually en-/disable the expanded sidebar (open / close the menu)\n        this.bind('close:start', function () {\n            if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n                _this.node.wrpr.classList.add('mm-wrapper_sidebar-closed');\n                if (options.expanded.initial == 'remember') {\n                    window.localStorage.setItem('mmenuExpandedState', 'closed');\n                }\n            }\n        });\n        this.bind('open:start', function () {\n            if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n                _this.node.wrpr.classList.remove('mm-wrapper_sidebar-closed');\n                if (options.expanded.initial == 'remember') {\n                    window.localStorage.setItem('mmenuExpandedState', 'open');\n                }\n            }\n        });\n        //  Set the initial state\n        var initialState = options.expanded.initial;\n        if (options.expanded.initial == 'remember') {\n            var state = window.localStorage.getItem('mmenuExpandedState');\n            switch (state) {\n                case 'open':\n                case 'closed':\n                    initialState = state;\n                    break;\n            }\n        }\n        if (initialState == 'closed') {\n            this.bind('initMenu:after', function () {\n                _this.node.wrpr.classList.add('mm-wrapper_sidebar-closed');\n            });\n        }\n        //\tAdd click behavior.\n        //\tPrevents default behavior when clicking an anchor\n        this.clck.push(function (anchor, args) {\n            if (args.inMenu && args.inListview) {\n                if (_this.node.wrpr.matches('.mm-wrapper_sidebar-expanded')) {\n                    return {\n                        close: options.expanded.initial == 'closed'\n                    };\n                }\n            }\n        });\n    }\n}\n","import Mmenu from '../../core/oncanvas/mmenu.oncanvas';\nimport * as DOM from '../../_modules/dom';\n//\tAdd the classnames.\nMmenu.configs.classNames.toggles = {\n    toggle: 'Toggle',\n    check: 'Check'\n};\nexport default function () {\n    var _this = this;\n    this.bind('initPanel:after', function (panel) {\n        //\tRefactor toggle classes\n        DOM.find(panel, 'input').forEach(function (input) {\n            DOM.reClass(input, _this.conf.classNames.toggles.toggle, 'mm-toggle');\n            DOM.reClass(input, _this.conf.classNames.toggles.check, 'mm-check');\n        });\n    });\n}\n","export default function () {\n    this.opts.onClick = {\n        close: true,\n        preventDefault: false,\n        setSelected: true\n    };\n}\n;\n","import * as DOM from '../../_modules/dom';\nexport default function () {\n    var _this = this;\n    //\tCreate the menu\n    if (this.node.menu.matches('.navbar-collapse')) {\n        //\tNo need for cloning the menu...\n        if (this.conf.offCanvas) {\n            this.conf.offCanvas.clone = false;\n        }\n        //\t... We'll create a new menu\n        var nav = DOM.create('nav'), panel = DOM.create('div');\n        nav.append(panel);\n        DOM.children(this.node.menu).forEach(function (child) {\n            switch (true) {\n                case child.matches('.navbar-nav'):\n                    panel.append(cloneNav(child));\n                    break;\n                case child.matches('.dropdown-menu'):\n                    panel.append(cloneDropdown(child));\n                    break;\n                case child.matches('.form-inline'):\n                    _this.conf.searchfield.form = {\n                        action: child.getAttribute('action') || null,\n                        method: child.getAttribute('method') || null\n                    };\n                    _this.conf.searchfield.input = {\n                        name: child.querySelector('input').getAttribute('name') ||\n                            null\n                    };\n                    _this.conf.searchfield.clear = false;\n                    _this.conf.searchfield.submit = true;\n                    break;\n                default:\n                    panel.append(child.cloneNode(true));\n                    break;\n            }\n        });\n        //\tSet the menu\n        this.bind('initMenu:before', function () {\n            document.body.prepend(nav);\n            _this.node.menu = nav;\n        });\n        //\tHijack the toggler.\n        var parent_1 = this.node.menu.parentElement;\n        if (parent_1) {\n            var toggler = parent_1.querySelector('.navbar-toggler');\n            if (toggler) {\n                toggler.removeAttribute('data-target');\n                // delete toggler.dataset.target; // IE10 has no dataset :(\n                toggler.removeAttribute('aria-controls');\n                //\tRemove all bound events.\n                toggler.outerHTML = toggler.outerHTML;\n                toggler = parent_1.querySelector('.navbar-toggler');\n                //  Open the menu on-click.\n                toggler.addEventListener('click', function (evnt) {\n                    evnt.preventDefault();\n                    evnt.stopImmediatePropagation();\n                    _this[_this.vars.opened ? 'close' : 'open']();\n                });\n            }\n        }\n    }\n    function cloneLink(anchor) {\n        var link = DOM.create(anchor.matches('a') ? 'a' : 'span');\n        //\tCopy attributes\n        var attr = ['href', 'title', 'target'];\n        for (var a = 0; a < attr.length; a++) {\n            if (typeof anchor.getAttribute(attr[a]) != 'undefined') {\n                link.setAttribute(attr[a], anchor.getAttribute(attr[a]));\n            }\n        }\n        //\tCopy contents\n        link.innerHTML = anchor.innerHTML;\n        //\tRemove Screen reader text.\n        DOM.find(link, '.sr-only').forEach(function (sro) {\n            sro.remove();\n        });\n        return link;\n    }\n    function cloneDropdown(dropdown) {\n        var list = DOM.create('ul');\n        DOM.children(dropdown).forEach(function (anchor) {\n            var item = DOM.create('li');\n            if (anchor.matches('.dropdown-divider')) {\n                item.classList.add('Divider');\n            }\n            else if (anchor.matches('.dropdown-item')) {\n                item.append(cloneLink(anchor));\n            }\n            list.append(item);\n        });\n        return list;\n    }\n    function cloneNav(nav) {\n        var list = DOM.create('ul');\n        DOM.find(nav, '.nav-item').forEach(function (anchor) {\n            var item = DOM.create('li');\n            if (anchor.matches('.active')) {\n                item.classList.add('Selected');\n            }\n            if (!anchor.matches('.nav-link')) {\n                var dropdown = DOM.children(anchor, '.dropdown-menu')[0];\n                if (dropdown) {\n                    item.append(cloneDropdown(dropdown));\n                }\n                anchor = DOM.children(anchor, '.nav-link')[0];\n            }\n            item.prepend(cloneLink(anchor));\n            list.append(item);\n        });\n        return list;\n    }\n}\n","export default function () {\n    this.conf.offCanvas.page.noSelector.push('#olark');\n}\n;\n","export default function () {\n    var classnames;\n    document.addEventListener('turbolinks:before-visit', function (evnt) {\n        classnames = document\n            .querySelector('.mm-wrapper')\n            .className.split(' ')\n            .filter(function (name) { return /mm-/.test(name); });\n    });\n    document.addEventListener('turbolinks:load', function (evnt) {\n        if (typeof classnames === 'undefined') {\n            return;\n        }\n        document.querySelector('.mm-wrapper').className = classnames;\n    });\n}\n","export default function () {\n    this.conf.classNames.selected = 'current-menu-item';\n    var wpadminbar = document.getElementById('wpadminbar');\n    if (wpadminbar) {\n        wpadminbar.style.position = 'fixed';\n        wpadminbar.classList.add('mm-slideout');\n    }\n}\n","/*!\n * mmenu.js\n * mmenujs.com\n *\n * Copyright (c) Fred Heusschen\n * frebsite.nl\n *\n * License: CC-BY-NC-4.0\n * http://creativecommons.org/licenses/by-nc/4.0/\n */\n\n//\tCore\nimport Mmenu from '../dist/core/oncanvas/mmenu.oncanvas';\n\n//\tCore add-ons\nimport offcanvas from '../dist/core/offcanvas/mmenu.offcanvas';\nimport screenReader from '../dist/core/screenreader/mmenu.screenreader';\nimport scrollBugFix from '../dist/core/scrollbugfix/mmenu.scrollbugfix';\n\n//\tAdd-ons\nimport autoHeight from '../dist/addons/autoheight/mmenu.autoheight';\nimport backButton from '../dist/addons/backbutton/mmenu.backbutton';\nimport columns from '../dist/addons/columns/mmenu.columns';\nimport counters from '../dist/addons/counters/mmenu.counters';\nimport dividers from '../dist/addons/dividers/mmenu.dividers';\nimport drag from '../dist/addons/drag/mmenu.drag';\nimport dropdown from '../dist/addons/dropdown/mmenu.dropdown';\nimport fixedElements from '../dist/addons/fixedelements/mmenu.fixedelements';\nimport iconbar from '../dist/addons/iconbar/mmenu.iconbar';\nimport iconPanels from '../dist/addons/iconpanels/mmenu.iconpanels';\nimport keyboardNavigation from '../dist/addons/keyboardnavigation/mmenu.keyboardnavigation';\nimport lazySubmenus from '../dist/addons/lazysubmenus/mmenu.lazysubmenus';\nimport navbars from '../dist/addons/navbars/mmenu.navbars';\nimport pageScroll from '../dist/addons/pagescroll/mmenu.pagescroll';\nimport searchfield from '../dist/addons/searchfield/mmenu.searchfield';\nimport sectionIndexer from '../dist/addons/sectionindexer/mmenu.sectionindexer';\nimport setSelected from '../dist/addons/setselected/mmenu.setselected';\nimport sidebar from '../dist/addons/sidebar/mmenu.sidebar';\nimport toggles from '../dist/addons/toggles/mmenu.toggles';\n\n//\tWrappers\nimport angular from '../dist/wrappers/angular/mmenu.angular';\nimport bootstrap from '../dist/wrappers/bootstrap/mmenu.bootstrap';\nimport olark from '../dist/wrappers/olark/mmenu.olark';\nimport turbolinks from '../dist/wrappers/turbolinks/mmenu.turbolinks';\nimport wordpress from '../dist/wrappers/wordpress/mmenu.wordpress';\n\nMmenu.addons = {\n    //\tCore add-ons\n    offcanvas,\n    screenReader,\n    scrollBugFix,\n\n    //\tAdd-ons\n    autoHeight,\n    backButton,\n    columns,\n    counters,\n    dividers,\n    drag,\n    dropdown,\n    fixedElements,\n    iconbar,\n    iconPanels,\n    keyboardNavigation,\n    lazySubmenus,\n    navbars,\n    pageScroll,\n    searchfield,\n    sectionIndexer,\n    setSelected,\n    sidebar,\n    toggles\n};\n\n//\tWrappers\nMmenu.wrappers = {\n    angular,\n    bootstrap,\n    olark,\n    turbolinks,\n    wordpress\n};\n\n//  Export module\nexport default Mmenu;\n\n//\tGlobal namespace\nif (window) {\n    window.Mmenu = Mmenu;\n}\n\n//\tjQuery plugin\n(function($) {\n    if ($) {\n        $.fn.mmenu = function(options, configs) {\n            var $result = $();\n\n            this.each(function(e, element) {\n                //\tDon't proceed if the element already is a mmenu.\n                if (element.mmApi) {\n                    return;\n                }\n\n                var menu = new Mmenu(element, options, configs),\n                    $menu = $(menu.node.menu);\n\n                //\tStore the API for backward compat.\n                $menu.data('mmenu', menu.API);\n\n                $result = $result.add($menu);\n            });\n\n            return $result;\n        };\n    }\n})(window.jQuery || window.Zepto || null);\n","/**\r\n * Checks is element an input/textarea or not\r\n * @param {Node} $element Element to check\r\n * @return {Boolean}\r\n */\r\nconst isElementTextbox = $element => {\r\n  // If element is not an input, bail\r\n  if (!$element.type) return false\r\n\r\n  const elementTagName = $element.tagName.toLowerCase()\r\n  const inputType = $element.getAttribute('type').toLowerCase()\r\n\r\n  const inputTypes = [\r\n    'text',\r\n    'password',\r\n    'number',\r\n    'email',\r\n    'tel',\r\n    'url',\r\n    'search',\r\n    'date',\r\n    'datetime',\r\n    'datetime-local',\r\n    'time',\r\n    'month',\r\n    'week',\r\n  ]\r\n\r\n  return (\r\n    (inputTypes.includes(inputType) && elementTagName === 'input') ||\r\n    elementTagName === 'textarea'\r\n  )\r\n}\r\n\r\n/**\r\n * Checks is element an checkbox or not\r\n * @param {Node} $element Element to check\r\n * @return {Boolean}\r\n */\r\nconst isElementCheckbox = $element => {\r\n  // If element is not an input, bail\r\n  if (!$element.type) return false\r\n\r\n  const elementTagName = $element.tagName.toLowerCase()\r\n  const inputType = $element.getAttribute('type').toLowerCase()\r\n\r\n  return elementTagName === 'input' && inputType === 'checkbox'\r\n}\r\n\r\nexport { isElementTextbox, isElementCheckbox }\r\n","import { isElementTextbox, isElementCheckbox } from './helpers'\r\n\r\n/**\r\n * Sets two-way binding\r\n * @return {void}\r\n */\r\nconst twoWayBinding = () => {\r\n  const $elements = document.querySelectorAll('[data-tw-bind]')\r\n  const scope = {}\r\n\r\n  /**\r\n   * Binds prop to element\r\n   * @param {String} prop Property of element to bind\r\n   * @param {String | Boolean} initialValue Initial value of element (string for textboxes, boolean for checkboxes)\r\n   * @return {void}\r\n   */\r\n  const addScopeProp = (prop, initialValue) => {\r\n    // Add property if it doesn't added yet\r\n    if (!Object.prototype.hasOwnProperty.call(scope, prop)) {\r\n      let value = initialValue\r\n\r\n      // Define or override property\r\n      Object.defineProperty(scope, prop, {\r\n        // Set new value\r\n        set: newValue => {\r\n          value = newValue\r\n          $elements.forEach($element => {\r\n            // Change value of real element according to new value\r\n            if ($element.getAttribute('data-tw-bind') === prop) {\r\n              if (isElementTextbox($element)) {\r\n                $element.value = newValue\r\n              } else if (isElementCheckbox($element)) {\r\n                $element.checked = newValue\r\n              } else {\r\n                $element.innerHTML = newValue\r\n              }\r\n            }\r\n          })\r\n        },\r\n        // Get the current value\r\n        get: () => {\r\n          return value\r\n        },\r\n        enumerable: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  $elements?.forEach($element => {\r\n    // Executes scope setter\r\n    if (isElementTextbox($element)) {\r\n      const propToBind = $element.getAttribute('data-tw-bind')\r\n\r\n      addScopeProp(propToBind, '')\r\n\r\n      $element.addEventListener('keyup', () => {\r\n        scope[propToBind] = $element.value\r\n      })\r\n    }\r\n\r\n    if (isElementCheckbox($element)) {\r\n      const propToBind = $element.getAttribute('data-tw-bind')\r\n\r\n      addScopeProp(propToBind, false)\r\n\r\n      $element.addEventListener('change', () => {\r\n        scope[propToBind] = $element.checked\r\n      })\r\n    }\r\n  })\r\n\r\n  return scope\r\n}\r\n\r\nexport default twoWayBinding\r\n","const conditionalRendering = () => {\r\n  const $elements = document.querySelectorAll('[data-conditional-rendering]')\r\n  const scope = {}\r\n\r\n  const addCondition = (condition, initialValue) => {\r\n    if (!Object.prototype.hasOwnProperty.call(scope, condition)) {\r\n      let value = initialValue\r\n\r\n      Object.defineProperty(scope, condition, {\r\n        set: newValue => {\r\n          value = newValue\r\n          $elements.forEach($element => {\r\n            // Change value of real element according to new value\r\n            if (\r\n              $element.getAttribute('data-conditional-rendering') === condition\r\n            ) {\r\n              $element.setAttribute('data-show', value)\r\n            }\r\n          })\r\n        },\r\n        get: () => {\r\n          return value\r\n        },\r\n        enumerable: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  $elements?.forEach($element => {\r\n    const renderCondition = $element.getAttribute('data-conditional-rendering')\r\n    const initialValue =\r\n      $element.getAttribute('data-show') === 'false' ? false : true\r\n\r\n    addCondition(renderCondition, initialValue)\r\n  })\r\n\r\n  return scope\r\n}\r\n\r\nexport default conditionalRendering\r\n","import Mmenu from 'mmenu-js'\r\nimport twoWayBinding from './twoWayBinding'\r\nimport conditionalRendering from './conditionalRendering'\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  new Mmenu('#mobile-menu', {\r\n    extensions: ['position-right', 'pagedim-black'],\r\n    navbar: {\r\n      title: 'Котейка',\r\n    },\r\n  })\r\n\r\n  // const catalogItems = document.querySelectorAll(\r\n  //   '[data-catalog-items] [data-catalog-item]'\r\n  // )\r\n\r\n  // catalogItems?.forEach(catalogItem => {\r\n  //   console.log(JSON.parse(catalogItem.dataset.equipment))\r\n  // })\r\n\r\n  document.fromaline = {\r\n    scope: twoWayBinding(),\r\n    conditionalRendering: conditionalRendering(),\r\n  }\r\n})\r\n"]}